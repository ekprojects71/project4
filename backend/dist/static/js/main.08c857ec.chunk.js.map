{"version":3,"sources":["components/navbar/promoBanner.jsx","contexts/ShoppingCartContext.js","components/navbar/navBag.jsx","contexts/NavContext.js","components/navbar/prodMenu-lg.jsx","components/navbar/navbar-lg.jsx","components/navbar/prodMenu-sm.jsx","components/navbar/navbar-sm.jsx","components/navbar/navbar.jsx","components/footer/footer.jsx","components/homepage/home.jsx","components/gender-landingpage/gender.jsx","components/loading/loading.jsx","components/product-gallery/productGallery.jsx","components/product/productFullscreen.jsx","components/product/productPage.jsx","contexts/AuthContext.js","components/login/login.jsx","components/register/statesDropdown.jsx","components/register/register.jsx","components/account/orderItem.jsx","components/account/myAccount.jsx","components/order/shoppingCart.jsx","components/order/checkout.jsx","components/TOS/tos.jsx","components/404/notFound.jsx","components/CMS/AdminLinks.jsx","components/CMS/AdminHome.jsx","contexts/ProductCategoryContext.js","contexts/ProductSizesContext.js","components/CMS/ProductSizePicker.jsx","components/CMS/AddProductModal.jsx","components/CMS/EditProductModal.jsx","components/CMS/AdminProducts.jsx","App.js","serviceWorker.js","index.js"],"names":["PromoBanner","useState","bannerData","setBannerData","fetchBannerData","a","fetch","results","json","data","useEffect","Object","keys","length","className","hasOwnProperty","promo","ShoppingCartContext","createContext","ShoppingCartProvider","props","localStorage","getItem","setItem","JSON","stringify","parse","cart","setCart","updateStoredCart","saveUserCart","storedCart","method","headers","body","response","status","deleteUserCart","getUserCart","Provider","value","addProduct","itemId","sizeId","name","sizeName","price","image","url","found","findIndex","product","newCart","quantity","identifier","removeProduct","filter","changeQuantity","children","NavBag","useContext","to","src","alt","NavContext","NavContextProvider","navData","setNavData","fetchNavData","abortController","AbortController","signal","abort","ProdMenuLG","menuTitle","gender","fragranceImg","genderImg","homeLink","fragranceLink","menu","key","uuidv4","navItems","map","item","category","toLowerCase","categoryLink","replace","subcategories","subcat","subcatLink","NavbarLG","hoveredTab","setHoveredTab","showProdMenu","e","target","innerText","hideProdMenu","aria-label","onMouseLeave","onMouseEnter","ProdMenuSM","isWomanExpanded","setWomanExpanded","isManExpanded","setManExpanded","expandMenu","onClick","setMenuToggled","NavbarSM","menuToggled","Navbar","window","innerWidth","viewport","setViewport","drawNavbar","addEventListener","Footer","Home","homepageData","setHomepageData","fetchHomepageData","scrollTo","title","GenderLandingPage","match","params","pageData","setPageData","bannerImg","featuredImg","fetchPageData","Fragment","banner","trim","featured","link","popular","section","img","Loading","withRouter","subcategory","products","setProducts","fetchProductGallery","categoryString","history","push","productType","pageTitle","imgUrl","imageUrl","index","lastIndexOf","substring","productLink","data-id","ProductFullscreen","setFullscreenImage","setProduct","selection","setSelection","validSelection","setValidSelection","setUrl","fetchProduct","product_code","activeImg","setActiveImg","handleImage","getAttribute","handleSize","sizes","forEach","size","size_number","size_value","console","log","onSale","salePrice","Math","trunc","description","onSubmit","preventDefault","images","image_url","type","id","onChange","htmlFor","details","detail","detail_info","AuthContext","AuthContextProvider","authenticated","setAuthenticated","checkAuth","loggedIn","useForm","register","handleSubmit","reset","errors","setErrors","loading","setLoading","redirectToDashboard","login","account","error","required","ref","StatesDropdown","setStateUSA","stateUSA","registerAccount","userData","state","min","max","OrderItem","toggled","setToggled","order","orderNumber","Date","date","toDateString","streetAddress","city","zipcode","total","contents","toFixed","computeTotal","round","validateOnMount","fetchOrders","fetchUserInfo","orders","setOrders","userInfo","setUserInfo","logout","isAdmin","firstName","lastName","saveCart","handleRemove","find","increaseQty","decreaseQty","handleCheckout","deleteCart","sumbitOrder","TOS","NotFound","AdminLinks","ProductCategoryContext","ProductCategoryContextProvider","productCategories","setProductCategories","fetchProductCategories","ProductSizesContext","ProductSizesContextProvider","productSizes","setProductSizes","fetchProductSizes","ProductSizePicker","activeSizes","handleSelection","classList","toggle","newSize","contains","addSize","removeSize","active","includes","AddProductModal","charLimits","productName","detail1","detail2","detail3","charCounts","setCharCounts","productPhotos","setProductPhotos","setSizes","activeGender","setActiveGender","postProductData","formData","message","resetCharCounts","refreshParent","handleCharLimits","charCount","slice","handleGender","setAddProdToggled","i","file","FormData","append","placeholder","step","defaultChecked","inSize","outSize","newList","accept","multiple","files","URL","createObjectURL","photo","EditProductModal","productNumber","sizeValues","productId","markedImages","setMarkedImages","markImage","parentNode","setEditProdToggled","defaultValue","addProdToggled","editProdToggled","currentProduct","setCurrentProduct","filtered","setFiltered","fetchProducts","handleEdit","App","basename","exact","path","component","ProductGallery","ProductPage","Component","Boolean","location","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.08c857ec.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\n\r\n\r\nconst PromoBanner = () => {\r\n\r\n    const [ bannerData, setBannerData ] = useState({});\r\n\r\n    const fetchBannerData = async () => {\r\n        const results = await fetch(\"/api/promo\");\r\n        const data = await results.json();\r\n\r\n        setBannerData(data);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(Object.keys(bannerData).length === 0) {\r\n            fetchBannerData();\r\n        }\r\n    });\r\n\r\n    return (\r\n        <div className=\"nav-promo-banner light-gray\">\r\n            <span>{bannerData.hasOwnProperty(\"promo\") ? (bannerData.promo) : (\"\")}</span>  \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default PromoBanner;","import React, { createContext, useState } from \"react\";\r\n\r\nexport const ShoppingCartContext = createContext();\r\n\r\nconst ShoppingCartProvider = (props) => {\r\n\r\n    if(localStorage.getItem(\"cart\") === null) {\r\n        localStorage.setItem(\"cart\", JSON.stringify([]));\r\n    }\r\n\r\n    const [ cart, setCart ] = useState(JSON.parse(localStorage.getItem(\"cart\")) || []);\r\n\r\n    const updateStoredCart = (cart) => {\r\n        localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n    }\r\n\r\n    const addProduct = (itemId, sizeId, name, sizeName, price, image, url) => {\r\n\r\n        let storedCart = JSON.parse(localStorage.getItem(\"cart\"));\r\n\r\n        const found = storedCart.findIndex(product => {\r\n            return product.itemId === itemId && product.sizeId === sizeId\r\n        });\r\n\r\n        if(found !== -1) {\r\n            let newCart = [...storedCart];\r\n            newCart[found].quantity++;\r\n            \r\n            storedCart = newCart;\r\n        }\r\n        else {\r\n            storedCart = [...storedCart, { \r\n                itemId: itemId, \r\n                sizeId: sizeId ? (sizeId) : (null),\r\n                identifier: sizeId ? (itemId + sizeId) : (itemId),\r\n                name: name,\r\n                sizeName: sizeName ? (sizeName) : (\"\"),\r\n                price: price, \r\n                image: image,\r\n                url: url, \r\n                quantity: 1 }];\r\n        }\r\n\r\n        updateStoredCart(storedCart);\r\n        setCart([...storedCart]);\r\n    };\r\n\r\n    const removeProduct = (identifier) => {\r\n        let storedCart = JSON.parse(localStorage.getItem(\"cart\"));\r\n        const newCart = storedCart.filter(product => {\r\n            return product.identifier != identifier\r\n        });\r\n        storedCart = newCart;\r\n        \r\n        setCart([...storedCart]);\r\n\r\n        updateStoredCart(storedCart);\r\n    };\r\n\r\n    const changeQuantity = (identifier, quantity) => {\r\n        let storedCart = JSON.parse(localStorage.getItem(\"cart\"));\r\n        const found = storedCart.findIndex(product => {\r\n            return product.identifier === identifier\r\n        });\r\n\r\n        if(found !== -1) {\r\n            let newCart = [...storedCart];\r\n            newCart[found].quantity = quantity;\r\n            storedCart = newCart;\r\n        }\r\n\r\n        setCart([...storedCart]);\r\n        updateStoredCart(storedCart);\r\n    };\r\n\r\n    const saveUserCart = async () => {\r\n        let storedCart = JSON.parse(localStorage.getItem(\"cart\"));\r\n        const response = await fetch(\"/api/shopping-cart\", {\r\n                            method: \"POST\",\r\n                            headers: {\r\n                                'Content-Type': 'application/json'\r\n                            },\r\n                            body: JSON.stringify(storedCart)\r\n                        });\r\n        const data = await response.json();\r\n        if(response.status === 200) {\r\n            setCart([...data]);\r\n            updateStoredCart(data);\r\n        }\r\n        \r\n    };\r\n\r\n    const deleteUserCart = async () => {\r\n        //delete the cart in the DB and local storage (if successfuly request)\r\n        const response = await fetch(\"/api/shopping-cart\", { method: \"DELETE\" });\r\n        if(response.status === 200) {\r\n            setCart([]);\r\n            updateStoredCart([]);\r\n        }\r\n    };\r\n\r\n    const getUserCart = async () => {\r\n        const response = await fetch(\"/api/shopping-cart\");\r\n        const data = await response.json();\r\n\r\n        if(response.status === 200) {\r\n            if(data.length > 0) {\r\n                setCart([...data]);\r\n                updateStoredCart(data);\r\n            }\r\n        }\r\n    }\r\n        \r\n    return (\r\n        //export the Provider object of the AuthContext context (not the class itself) \r\n        <ShoppingCartContext.Provider value={{ cart:cart, addProduct, removeProduct, changeQuantity, \r\n                                        saveUserCart, deleteUserCart, getUserCart }}>\r\n            {props.children}\r\n        </ShoppingCartContext.Provider>\r\n    )\r\n\r\n}\r\n\r\nexport default ShoppingCartProvider;","import React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { ShoppingCartContext } from \"../../contexts/ShoppingCartContext\";\r\n\r\n\r\nconst NavBag = () => {\r\n\r\n    const { cart } = useContext(ShoppingCartContext);\r\n\r\n    return (\r\n        <div className=\"nav-bag\">\r\n            <Link to=\"/shopping-bag\">\r\n                <img src=\"/assets/icons/shopping-bag.svg\" alt=\"my-acct-icon\" />\r\n                <div className=\"nav-shopping-qty\"><span>{cart.length}</span></div>\r\n            </Link>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NavBag;","import React, { createContext, useState, useEffect } from \"react\";\r\n\r\nexport const NavContext = createContext();\r\n\r\nconst NavContextProvider = (props) => {\r\n\r\n    const [ navData, setNavData ] = useState(null);\r\n\r\n    const fetchNavData = async () => {\r\n        const abortController = new AbortController();\r\n        const signal = abortController.signal;\r\n\r\n        const response = await fetch(\"/api/navbar\", { signal: signal });\r\n        const data = await response.json(); \r\n        setNavData(data);\r\n\r\n        return function cleanup() {\r\n            abortController.abort();\r\n        }\r\n    }\r\n\r\n    \r\n\r\n    useEffect(() => {\r\n        if(!navData) {\r\n            fetchNavData();\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <NavContext.Provider value={{navData}}>\r\n            { props.children }\r\n        </NavContext.Provider>\r\n    )\r\n};\r\n\r\nexport default NavContextProvider;","import React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\n//contexts\r\nimport { NavContext } from \"../../contexts/NavContext\";\r\n\r\nconst ProdMenuLG = (props) => {\r\n\r\n    const { navData } = useContext(NavContext);\r\n    const menuTitle = props.gender === 0 ? (\"Women's Fashion\") : (\"Men's Fashion\");\r\n    const fragranceImg = props.gender === 0 ? (\"/images/promo/woman/nav-fragrance-woman.jpg\") : (\"/images/promo/man/nav-fragrance-man.jpg\");\r\n    const genderImg = props.gender === 0 ? (\"/images/promo/woman/nav-woman.jpg\") : (\"/images/promo/man/nav-man.jpg\");\r\n    const homeLink = props.gender === 0 ? (\"/fashion/woman\") : (\"/fashion/man\");\r\n    const fragranceLink = props.gender === 0 ? (\"/fashion/woman/fragrance\") : (\"/fashion/man/fragrance\");\r\n    \r\n    const menu = (\r\n        <div className=\"pml-container\">\r\n            <ul className=\"nav-prod-list\">\r\n                <li className=\"product-category\" key={uuidv4()}>\r\n                    <h5 className=\"product-category-title\"><Link to={homeLink}>{menuTitle}</Link></h5>\r\n                    <Link to={homeLink} className=\"product-cat-img\">\r\n                        <img src={genderImg} alt={navData[props.gender].gender + \"-home\"} />\r\n                    </Link>\r\n                </li>\r\n\r\n                {navData[props.gender].navItems.map(item => {\r\n                    if(item.category.toLowerCase() !== \"fragrance\") {\r\n\r\n                        let categoryLink = \r\n                        `/fashion/${navData[props.gender].gender.toLowerCase()}` +\r\n                        `/${item.category.toLowerCase().replace(/ /g, \"_\")}`;\r\n\r\n                        return (\r\n                            <li className=\"product-category\" key={uuidv4()}>\r\n                                <h5 className=\"product-category-title\"><Link to={categoryLink}>{item.category}</Link></h5>\r\n\r\n                                <ul className=\"product-subcategories\">\r\n                                   {item.subcategories.map(subcat => {\r\n\r\n                                    let subcatLink = \r\n                                    `/fashion/${navData[props.gender].gender.toLowerCase()}` + \r\n                                    `/${item.category.toLowerCase().replace(/ /g, \"_\")}` +\r\n                                    `/${subcat.toLowerCase().replace(/ /g, \"_\")}`;\r\n\r\n                                        return <li className=\"product-subcat-link\" key={uuidv4()}>\r\n                                                    <Link to={subcatLink}>{subcat}</Link>\r\n                                                </li>\r\n                                   })} \r\n                                </ul>\r\n                            </li>\r\n                        )    \r\n                    }\r\n                })}\r\n\r\n                <li className=\"product-category\" key={uuidv4()}>\r\n                    <h5 className=\"product-category-title\"><Link to={fragranceLink}>Fragrance</Link></h5>\r\n                    <Link to={fragranceLink} className=\"product-cat-img\">\r\n                        <img src={fragranceImg} alt={navData[props.gender].gender + \"-fragrance\"} />\r\n                    </Link>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className=\"prod-menu-lg\">\r\n            {menu}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProdMenuLG;","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport NavBag from \"./navBag\";\r\nimport ProdMenuLG from \"./prodMenu-lg\";\r\n\r\nconst NavbarLG = () => {\r\n\r\n    const [hoveredTab, setHoveredTab] = useState(\"\");\r\n\r\n    //event handlers\r\n    const showProdMenu = (e) => {\r\n        if(e.target.innerText === \"WOMAN\") {\r\n            setHoveredTab(\"WOMAN\");\r\n        }\r\n        else if (e.target.innerText === \"MAN\") {\r\n            setHoveredTab(\"MAN\");\r\n        }\r\n    };\r\n\r\n    const hideProdMenu = (e) => {\r\n        setHoveredTab(\"\");\r\n    }\r\n\r\n    return (\r\n        <div className=\"nav-lg\">\r\n            <div className=\"top\">\r\n                <div className=\"top-left\"></div>\r\n                <div className=\"logo-center\">\r\n                    <Link to=\"/\"><img src=\"/assets/company/logo.svg\" alt=\"logo\"/></Link>\r\n                </div>\r\n                <div className=\"top-right\">\r\n                    <div className=\"nav-profile\">\r\n                        <Link to=\"/account/login\"><img src=\"/assets/icons/profile-icon.svg\" alt=\"my-acct-icon\" /></Link>\r\n                    </div>\r\n                    <NavBag />\r\n                </div>\r\n            </div>\r\n            <nav className=\"bottom\">\r\n                <ul className=\"nav-btm-tabs\">\r\n                    <li className=\"nav-btm-tab\" key={\"WOMAN\"} aria-label=\"WOMAN\" \r\n                         onMouseLeave={hideProdMenu}>\r\n\r\n                        <Link to=\"/fashion/woman\" className={`nav-tab-link ${hoveredTab === \"WOMAN\" ? \"nav-tab-hovered\" : \"\"}`}\r\n                                    onMouseEnter={showProdMenu}>WOMAN</Link>\r\n                        \r\n                        {hoveredTab === \"WOMAN\" && <ProdMenuLG gender={0} />}\r\n                    </li>\r\n                    <li className=\"nav-btm-tab\" key={\"MAN\"} aria-label=\"MAN\" \r\n                         onMouseLeave={hideProdMenu}>\r\n\r\n                        <Link to=\"/fashion/man\" className={`nav-tab-link ${hoveredTab === \"MAN\" ? \"nav-tab-hovered\" : \"\"}`}\r\n                                    onMouseEnter={showProdMenu}>MAN</Link>\r\n                        \r\n                        {hoveredTab === \"MAN\" && <ProdMenuLG gender={1} />}\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NavbarLG;","import React, { useContext, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\n//contexts\r\nimport { NavContext } from \"../../contexts/NavContext\";\r\n\r\nconst ProdMenuSM = (props) => {\r\n\r\n    const { navData } = useContext(NavContext);\r\n\r\n    const [isWomanExpanded, setWomanExpanded] = useState(false);\r\n    const [isManExpanded, setManExpanded] = useState(false);\r\n    \r\n    //0 = woman,  1 = man\r\n    const fragranceImg = [\"/images/promo/woman/nav-fragrance-woman.jpg\", \"/images/promo/man/nav-fragrance-man.jpg\"];\r\n    const genderImg = [\"/images/promo/woman/nav-woman.jpg\", \"/images/promo/man/nav-man.jpg\"];\r\n    const homeLink = [\"/fashion/woman\", \"/fashion/man\"];\r\n    const fragranceLink = [\"/fashion/woman/fragrance\", \"/fashion/man/fragrance\"];\r\n\r\n    //event handlers\r\n    const expandMenu = (gender => {\r\n        if(gender === \"WOMAN\") {\r\n            setWomanExpanded(!isWomanExpanded);\r\n        }\r\n        else {\r\n            setManExpanded(!isManExpanded);\r\n        }\r\n    });\r\n\r\n\r\n    const menu = (\r\n        <div className=\"pms-container\">\r\n            <nav className=\"navigation-panel\">\r\n                {/* Menu Header */}\r\n                <div className=\"menu-header\">\r\n                    <div className=\"menu-header-title\">\r\n                        <span>Menu</span>\r\n                    </div>\r\n                    <div className=\"menu-header-close\">\r\n                        <button onClick={() => props.setMenuToggled(false)} \r\n                            ><img src=\"/assets/icons/x-icon.svg\" alt=\"close-menu\"/></button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* WOMAN NAV LINKS */}\r\n                <ul className=\"gender-options\">\r\n                    <li className=\"gender-woman\" key={uuidv4()}>\r\n                        <button className={`expand-list ${isWomanExpanded ? \"expanded\" : \"collapsed\"}`}\r\n                                onClick={()=>expandMenu(\"WOMAN\")}>\r\n                                <span className='list-label'>Women's Fashion</span>\r\n                                <img src=\"/assets/icons/chevron.svg\" alt=\"collapse-expand\" className='expand-icon'></img>\r\n                        </button>\r\n\r\n                        <ul className={`categories ${isWomanExpanded ? \"expanded\" : \"collapsed\"}`}>\r\n\r\n                            {navData[0].navItems.map(item => {\r\n                                if(item.category.toLowerCase() !== \"fragrance\") {\r\n\r\n                                    let categoryLink = \r\n                                    `/fashion/${navData[0].gender.toLowerCase()}` +\r\n                                    `/${item.category.toLowerCase().replace(/ /g, \"_\")}`;\r\n\r\n                                    return (\r\n                                        <li className=\"category\" key={uuidv4()}>\r\n                                            <h5 className=\"category-title\"><Link to={categoryLink} \r\n                                                onClick={() => props.setMenuToggled(false)}>\r\n                                                    {item.category}</Link></h5>\r\n                                            \r\n                                            <ul className=\"subcategories\" key={uuidv4()}>\r\n\r\n                                                {item.subcategories.map(subcat => {\r\n\r\n                                                    let subcatLink = \r\n                                                    `/fashion/${navData[0].gender.toLowerCase()}` + \r\n                                                    `/${item.category.toLowerCase().replace(/ /g, \"_\")}` +\r\n                                                    `/${subcat.toLowerCase().replace(/ /g, \"_\")}`;\r\n\r\n                                                    return (\r\n                                                        <li className=\"subcategory\" key={uuidv4()}>\r\n                                                            <Link to={subcatLink}\r\n                                                                onClick={() => props.setMenuToggled(false)}\r\n                                                                >{subcat}</Link>    \r\n                                                        </li>    \r\n                                                    )\r\n                                                })}\r\n                                            </ul>\r\n                                        </li>\r\n                                    )\r\n                                }\r\n                            })}\r\n\r\n                            <li className=\"category img-item\" key={uuidv4()}>\r\n                                <div className=\"img-item-container\">\r\n                                    <h5 className=\"category-title\"><Link to={homeLink[0]}\r\n                                        onClick={() => props.setMenuToggled(false)}>\r\n                                            Explore Women's</Link></h5>\r\n                                    <Link to={homeLink[0]}\r\n                                        onClick={() => props.setMenuToggled(false)}>\r\n                                        <img src={genderImg[0]} alt=\"Woman-Home\" />\r\n                                    </Link>\r\n                                </div>\r\n                            </li>\r\n\r\n                            <li className=\"category img-item\" key={uuidv4()}>\r\n                                <div className=\"img-item-container\">\r\n                                    <h5 className=\"category-title\"><Link to={fragranceLink[0]}\r\n                                        onClick={() => props.setMenuToggled(false)}>\r\n                                            Women's Fragrance</Link></h5>\r\n                                    <Link to={fragranceLink[0]} className=\"product-cat-img\"\r\n                                        onClick={() => props.setMenuToggled(false)}>\r\n                                        <img src={fragranceImg[0]} alt=\"Woman-Fragrance-Home\" />\r\n                                    </Link>\r\n                                </div>\r\n                            </li>\r\n                        </ul>\r\n                    </li>\r\n                    \r\n                    {/* MAN NAV LINKS */}\r\n                    <li className=\"gender-man\" key={uuidv4()}>\r\n                        <button className={`expand-list ${isManExpanded ? \"expanded\" : \"collapsed\"}`}\r\n                                onClick={()=>expandMenu(\"MAN\")}>\r\n                                <span className='list-label'>Men's Fashion</span>\r\n                                <img src=\"/assets/icons/chevron.svg\" alt=\"collapse-expand\" className='expand-icon'></img>\r\n                        </button>\r\n\r\n                        <ul className={`categories ${isManExpanded ? \"expanded\" : \"collapsed\"}`}>\r\n\r\n                            {navData[1].navItems.map(item => {\r\n\r\n                                let categoryLink = \r\n                                    `/fashion/${navData[1].gender.toLowerCase()}` +\r\n                                    `/${item.category.toLowerCase().replace(/ /g, \"_\")}`;\r\n\r\n                                if(item.category.toLowerCase() !== \"fragrance\") {\r\n                                    return (\r\n                                        <li className=\"category\" key={uuidv4()}>\r\n                                            <h5 className=\"category-title\"><Link to={categoryLink}\r\n                                                onClick={() => props.setMenuToggled(false)}>\r\n                                                    {item.category}</Link></h5>\r\n                                            \r\n                                            <ul className=\"subcategories\" key={uuidv4()}>\r\n\r\n                                                {item.subcategories.map(subcat => {\r\n\r\n                                                    let subcatLink = \r\n                                                    `/fashion/${navData[1].gender.toLowerCase()}` + \r\n                                                    `/${item.category.toLowerCase().replace(/ /g, \"_\")}` +\r\n                                                    `/${subcat.toLowerCase().replace(/ /g, \"_\")}`;\r\n\r\n                                                    return (\r\n                                                        <li className=\"subcategory\" key={uuidv4()}>\r\n                                                            <Link to={subcatLink}\r\n                                                                onClick={() => props.setMenuToggled(false)}>\r\n                                                                    {subcat}</Link>    \r\n                                                        </li>    \r\n                                                    )\r\n                                                })}\r\n                                            </ul>\r\n                                        </li>\r\n                                    )\r\n                                }\r\n                            })}\r\n\r\n                            <li className=\"category img-item\" key={uuidv4()}>\r\n                                <div className=\"img-item-container\">\r\n                                    <h5 className=\"category-title\"><Link to={homeLink[1]}\r\n                                        onClick={() => props.setMenuToggled(false)}>\r\n                                            Explore Men's</Link></h5>\r\n                                    <Link to={homeLink[1]}\r\n                                        onClick={() => props.setMenuToggled(false)}>\r\n                                        <img src={genderImg[1]} alt=\"Man-Home\" />\r\n                                    </Link>\r\n                                </div>\r\n                            </li>\r\n\r\n                            <li className=\"category img-item\" key={uuidv4()}>\r\n                                <div className=\"img-item-container\">\r\n                                <h5 className=\"category-title\"><Link to={fragranceLink[1]}\r\n                                    onClick={() => props.setMenuToggled(false)}>\r\n                                        Men's Fragrance</Link></h5>\r\n                                    <Link to={fragranceLink[1]} className=\"product-cat-img\"\r\n                                        onClick={() => props.setMenuToggled(false)}>\r\n                                        <img src={fragranceImg[1]} alt=\"Man-Fragrance\" />\r\n                                    </Link> \r\n                                </div>\r\n                            </li>\r\n                        </ul>\r\n                    </li>\r\n                </ul>\r\n            </nav>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div className=\"prod-menu-sm white\">\r\n            {menu}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProdMenuSM;","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport NavBag from \"./navBag\";\r\nimport ProdMenuSM from \"./prodMenu-sm\";\r\n\r\nconst NavbarSM = () => {\r\n\r\n    const [menuToggled, setMenuToggled] = useState(false);\r\n\r\n    //event handlers\r\n    const openHamMenu = (e) => {\r\n        setMenuToggled(true);\r\n    }\r\n\r\n    return (\r\n        <div className=\"nav-sm\">\r\n            <div className=\"top\">\r\n                <div className=\"top-left\">\r\n                    <div className=\"hamburger\" onClick={openHamMenu}>\r\n                        <img src=\"/assets/icons/hamburger-icon.svg\" alt=\"toggle-hamburger-menu\" />\r\n                    </div>\r\n                </div>\r\n                <div className=\"logo-center\">\r\n                    <Link to=\"/\"><img src=\"/assets/company/logo.svg\" alt=\"logo\"/></Link>\r\n                </div>\r\n                <div className=\"top-right\">\r\n                    <div className=\"nav-profile\">\r\n                        <Link to=\"/account/login\"><img src=\"/assets/icons/profile-icon.svg\" alt=\"my-acct-icon\" /></Link>\r\n                    </div>\r\n                    <NavBag />\r\n                </div>\r\n            </div>\r\n            {menuToggled && <ProdMenuSM setMenuToggled={setMenuToggled}/>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NavbarSM;","import React, { useState } from \"react\";\r\n\r\n//sub-components\r\nimport PromoBanner from \"./promoBanner\";\r\nimport NavbarLG from \"./navbar-lg\";\r\nimport NavbarSM from \"./navbar-sm\";\r\n\r\n//styles\r\nimport \"../../css/colors.css\";\r\nimport \"../../css/navbar.css\";\r\n\r\n\r\nconst Navbar = () => {\r\n\r\n    //keeps track of viewport width, initializes screen width on render\r\n    const [viewport, setViewport] = useState(window.innerWidth);\r\n\r\n    //draws the appropriate navbar based on the viewport width\r\n    const drawNavbar = viewport < 1366 ? (\r\n            //small screens\r\n            <NavbarSM />\r\n        ) :\r\n        (\r\n            //large screens\r\n            <NavbarLG />\r\n        );\r\n\r\n    \r\n    //event listener that updates the viewport state\r\n    window.addEventListener(\"resize\", () => {\r\n        setViewport(window.innerWidth);\r\n    });\r\n\r\n    \r\n    return (\r\n        <header className=\"navbar pure-white\">\r\n            <PromoBanner />\r\n            <div className=\"container\">\r\n                {drawNavbar}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"../../css/footer.css\";\r\n\r\nconst Footer = () => {\r\n\r\n    return (\r\n        <footer className=\"footer white\">\r\n            <div className=\"container\">\r\n                <div className=\"footer-links\">\r\n                    <div className=\"logo\">\r\n                        <Link to=\"/\"><img src=\"/assets/company/logo.svg\" alt=\"logo\"/></Link> \r\n                    </div>\r\n                    <div className=\"links\">\r\n                        <ul>\r\n                            <li><Link to=\"/\">Home</Link></li>\r\n                            <li><Link to=\"/fashion/woman\">Women's Fashion</Link></li>\r\n                            <li><Link to=\"/fashion/man\">Men's Fashion</Link></li>\r\n                            <li><Link to=\"/account/my-account\">My Account</Link></li>\r\n                            <li><Link to=\"/tos\">Terms and Conditions</Link></li>\r\n                        </ul>\r\n                    </div>\r\n                </div>\r\n                \r\n                <div className=\"project-stack\">\r\n                    Project Stack: Postgres, Node, Express & React\r\n                </div>\r\n\r\n                <div className=\"disclaimer\">\r\n                    This is not a real website and is not for commercial use. \r\n                    <em>This project and its contents are meant for demonstration purposes only. </em> \r\n                    None of the products listed are really for sale, no orders are actually placed. No ownership is claimed of any\r\n                    of the products displayed in this demo.\r\n                </div>    \r\n            </div>\r\n            \r\n        </footer>\r\n    )\r\n}\r\n\r\nexport default Footer;","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"../../css/home.css\";\r\n\r\nconst Home = () => {\r\n\r\n    const [homepageData, setHomepageData] = useState({});\r\n\r\n    const fetchHomepageData = async () => {\r\n        const results = await fetch(\"/api/homepage\");\r\n        const data = await results.json();\r\n        setHomepageData(data);\r\n    };\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0,0);\r\n        if(Object.keys(homepageData).length === 0) {\r\n            fetchHomepageData();\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <main className=\"homepage\">\r\n            <div className=\"container\">\r\n\r\n                <div className=\"jumbotron\">\r\n                    <div className=\"jumbo-img\"></div>\r\n                    <div className=\"jumbo-btm\">\r\n                        <div className=\"jumbo-title\">\r\n                            {homepageData.hasOwnProperty(\"title\") ? \r\n                            (homepageData.title) : (\"Explore the collection\")}\r\n                        </div>\r\n                        <div className=\"jumbo-btns\">\r\n                            <Link to=\"/fashion/woman\">\r\n                                <button className=\"jumbo-woman\">Shop Women's</button>\r\n                            </Link>\r\n                        \r\n                            <Link to=\"/fashion/man\">\r\n                                <button className=\"jumbo-man\">Shop Men's</button>\r\n                            </Link>\r\n                        </div>  \r\n                    </div>\r\n                </div>\r\n\r\n                <section className=\"fashion-categories\">\r\n                    <div className=\"gender-title\">\r\n                        <h1>Women's Fashion</h1>\r\n                    </div>\r\n                    <div className=\"categories-gallery\">\r\n                        <div className=\"category-item\">\r\n                            <Link to=\"/fashion/woman/clothing\">\r\n                                <div className=\"img-wrapper\">\r\n                                    <img src=\"/images/promo/woman/hp-clothing-woman.jpg\" alt=\"womens-clothing\" /> \r\n                                </div>\r\n                                <h3>Clothing</h3>\r\n                            </Link>\r\n                        </div>\r\n                        <div className=\"category-item\">\r\n                            <Link to=\"/fashion/woman/shoes\">\r\n                                <div className=\"img-wrapper\">\r\n                                    <img src=\"/images/promo/woman/hp-shoes-woman.jpg\" alt=\"womens-shoes\" /> \r\n                                </div>\r\n                                <h3>Shoes</h3>\r\n                            </Link>\r\n                        </div>\r\n                        <div className=\"category-item\">\r\n                            <Link to=\"/fashion/woman/accessories\">\r\n                                <div className=\"img-wrapper\">\r\n                                    <img src=\"/images/promo/woman/hp-accessories-woman.jpg\" alt=\"womens-accessories\" /> \r\n                                </div>\r\n                                <h3>Accessories</h3>\r\n                            </Link>\r\n                        </div>\r\n                        <div className=\"category-item\">\r\n                            <Link to=\"/fashion/woman/fragrance\">\r\n                                <div className=\"img-wrapper\">\r\n                                    <img src=\"/images/promo/woman/hp-fragrance-woman.jpg\" alt=\"womens-fragrance\" /> \r\n                                </div>\r\n                                <h3>Fragrance</h3>\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n\r\n                <section className=\"fashion-categories\">\r\n                    <div className=\"gender-title\">\r\n                        <h1>Men's Fashion</h1>\r\n                    </div>\r\n                    <div className=\"categories-gallery\">\r\n                        <div className=\"category-item\">\r\n                            <Link to=\"/fashion/man/clothing\">\r\n                                <div className=\"img-wrapper\">\r\n                                    <img src=\"/images/promo/man/hp-clothing-man.jpg\" alt=\"mens-clothing\" />\r\n                                </div>\r\n                                <h3>Clothing</h3>\r\n                            </Link>\r\n                        </div>\r\n                        <div className=\"category-item\">\r\n                            <Link to=\"/fashion/man/shoes\">\r\n                                <div className=\"img-wrapper\">\r\n                                    <img src=\"/images/promo/man/hp-shoes-man.jpg\" alt=\"mens-shoes\" />\r\n                                </div>\r\n                                <h3>Shoes</h3>\r\n                            </Link>\r\n                        </div>\r\n                        <div className=\"category-item\">\r\n                            <Link to=\"/fashion/man/accessories\">\r\n                                <div className=\"img-wrapper\">\r\n                                    <img src=\"/images/promo/man/hp-accessories-man.jpg\" alt=\"mens-accessories\" /> \r\n                                </div>\r\n                                <h3>Accessories</h3>\r\n                            </Link>\r\n                        </div>\r\n                        <div className=\"category-item\">\r\n                            <Link to=\"/fashion/man/fragrance\">\r\n                                <div className=\"img-wrapper\">\r\n                                <img src=\"/images/promo/man/hp-fragrance-man.jpg\" alt=\"mens-fragrance\" /> \r\n                                </div>\r\n                                <h3>Fragrance</h3>\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </div> \r\n        </main>\r\n    )\r\n}\r\n\r\nexport default Home;","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nimport Navbar from \"../navbar/navbar\";\r\nimport Footer from \"../footer/footer\";\r\n\r\nimport \"../../css/gender.css\";\r\n\r\n\r\nconst GenderLandingPage = (props) => {\r\n\r\n    const gender = props.match.params.gender;\r\n\r\n    const [pageData, setPageData] = useState({});\r\n\r\n    const bannerImg = gender === \"woman\" ? (\"/images/promo/woman/woman-page-banner.jpg\") : \r\n                                        (\"/images/promo/man/man-page-banner.jpg\");\r\n    const featuredImg = gender === \"woman\" ? (\"/images/promo/woman/woman-page-featured.jpg\") : \r\n                                        (\"/images/promo/man/man-page-featured.jpg\");\r\n\r\n    const fetchPageData = async () => {\r\n        const results = await fetch(`/api/gender-page/${gender}`);\r\n        const data = await results.json();\r\n        setPageData(data);\r\n    };\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0,0);\r\n        fetchPageData();\r\n        \r\n    }, [props.match.params.gender]);\r\n\r\n    return (\r\n        <React.Fragment>\r\n        <Navbar />\r\n        <main className=\"gender-page\">\r\n            <div className=\"container\">\r\n\r\n                <div className=\"banner\">\r\n                    <h1>\r\n                        {pageData.hasOwnProperty(\"banner\") ? (pageData.banner.trim()) : \r\n                        (gender === \"woman\" ? (\"Women's Fashion\") : (\"Men's Fashion\"))}\r\n                    </h1>\r\n                    <div className=\"banner-img\">\r\n                        <img src={bannerImg} alt={`${gender}-banner`} />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"featured\">\r\n                <Link to={pageData.hasOwnProperty(\"featured\") ? (pageData.featured.link.trim().replace(/-/g, \"_\")) : \r\n                        (gender === \"woman\" ? (\"/fashion/woman\") : (\"/fashion/man\")) }>\r\n                    <h1>\r\n                        {pageData.hasOwnProperty(\"featured\") ? (pageData.featured.title.trim()) : \r\n                        (gender === \"woman\" ? (\"Explore Women's Fashion\") : (\"Explore Men's Fashion\"))}\r\n                    </h1>\r\n                    <div className=\"featured-img\">\r\n                        <img src={featuredImg} alt={`${gender}-featured`} />\r\n                    </div>\r\n                </Link>   \r\n                </div>\r\n\r\n                <div className=\"popular-items\">\r\n                    {pageData.hasOwnProperty(\"popular\") ? (\r\n                        pageData.popular.map(section => {\r\n                            return (\r\n                                <div className=\"item\" key={uuidv4()}>\r\n                                <Link to={section.link.trim()}>\r\n                                    <h1>{section.title.trim()}</h1>\r\n                                    <div className=\"featured-img\">\r\n                                        <img src={section.img.trim()} alt={`${gender}-popular-item`} />\r\n                                    </div>\r\n                                </Link>   \r\n                                </div>    \r\n                            )\r\n                        })\r\n                    ) : (\"\")}\r\n                </div>\r\n\r\n            </div>\r\n        </main>\r\n        <Footer />\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default GenderLandingPage;","import React from \"react\";\r\n\r\nimport \"../../css/loading.css\";\r\n\r\nconst Loading = () => {\r\n    \r\n    return (\r\n        <div className=\"loading\">\r\n            <div className=\"img\">\r\n                <img src=\"/assets/icons/loading.svg\" alt=\"loading-icon\" />\r\n            </div>\r\n        </div>    \r\n    )\r\n};\r\n\r\nexport default Loading;","import React, { useState, useEffect } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nimport Loading from \"../loading/loading\";\r\nimport Navbar from \"../navbar/navbar\";\r\nimport Footer from \"../footer/footer\";\r\n\r\nimport \"../../css/productGallery.css\";\r\n\r\nconst ProductGallery = (props) => {\r\n    \r\n    //initializing query params\r\n    const params = {\r\n        gender: props.match.params.gender === \"woman\" ? (1) : (2),\r\n        category: props.match.params.category,\r\n        subcategory: props.match.params.hasOwnProperty(\"subcategory\") ?\r\n            (props.match.params.subcategory.replace(/_/g,\" \")) : (null)\r\n    };\r\n\r\n    //products state\r\n    const [ products, setProducts ] = useState(null);\r\n\r\n    //fetch products \r\n    const fetchProductGallery = async () => {\r\n        const categoryString = JSON.stringify(params);\r\n        const results = await fetch(`/api/products/gallery/${categoryString}`);\r\n        const data = await results.json();\r\n        setProducts(data);\r\n        \r\n        if(results.status !== 200) {\r\n            props.history.push(\"/404\");\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0,0);\r\n        fetchProductGallery();\r\n    }, [props.match.params.gender, props.match.params.category, props.match.params.subcategory]);\r\n\r\n\r\n    //Page content\r\n    const productType = params.subcategory ? (params.subcategory) : (params.category);\r\n    const pageTitle = params.gender === 1 ? (`Women's ${productType}`) : (`Men's ${productType}`);\r\n\r\n\r\n    return (\r\n        <React.Fragment>\r\n        <Navbar />\r\n        <div className=\"product-gallery\">\r\n            <div className=\"container\">\r\n                <div className=\"title\">\r\n                    <h1>{pageTitle}</h1>\r\n                </div>\r\n\r\n                {\r\n                    products ? (\r\n                    <main className=\"gallery\">\r\n                        <ul className=\"product-grid\">\r\n                            {products.map(product => {\r\n                                \r\n                                let imgUrl = product.imageUrl.replace(\"public\", \"\").trim();\r\n                                let index = imgUrl.lastIndexOf(\".\");\r\n                                imgUrl = imgUrl.substring(0, index)+\"_m\"+imgUrl.substring(index);\r\n                                let productLink = `/products/${product.gender}` +\r\n                                        `/${product.category.trim().replace(/ /g, \"_\")}` +\r\n                                        `/${product.subcategory.trim().replace(/ /g, \"_\")}` +\r\n                                        `/${product.name.trim().replace(/ /g, \"_\")}`;\r\n\r\n                                return (\r\n                                    <li className=\"product-item\" key={product.itemId} data-id={product.itemId}>\r\n                                        <Link to={productLink}>\r\n                                        <div className=\"product-img\">\r\n                                            <img src={imgUrl} alt={product.name} />\r\n                                        </div>\r\n                                        <div className=\"product-name\">{product.name}</div>\r\n                                        <div className=\"product-price\">{`$ ${product.price}`}</div>    \r\n                                        </Link>\r\n                                    </li>\r\n                                )\r\n                            })}\r\n                        </ul>\r\n                    </main>    \r\n                    ) : (<Loading />)\r\n                }\r\n            </div>\r\n        </div>\r\n        <Footer />\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default withRouter(ProductGallery);","import React from \"react\";\r\n\r\nimport \"../../css/productPage.css\";\r\n\r\n//takes 2 props\r\n// 1.) setFullScreenImg = when x button is clicked, sets image to null closes the modal\r\n// 2.) imgUrl - this prop is passed into the src attribute\r\n\r\nconst ProductFullscreen = (props) => {\r\n\r\n    return (\r\n        <div className=\"product-fullscreen\">\r\n\r\n            {/* close button - floats above the image */}\r\n            <div className=\"close\">\r\n                <button onClick={() => props.setFullscreenImage(null)} \r\n                    ><img src=\"/assets/icons/x-icon.svg\" alt=\"close-menu\"/></button>\r\n            </div>\r\n\r\n            <div className=\"image\">\r\n                <img src={props.imgUrl} alt=\"fullscreen-preview\" />\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default ProductFullscreen;","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nimport ProductFullscreen from \"./productFullscreen\";\r\n\r\nimport Loading from \"../loading/loading\";\r\nimport Footer from \"../footer/footer\";\r\nimport Navbar from \"../navbar/navbar\";\r\n\r\nimport { ShoppingCartContext } from \"../../contexts/ShoppingCartContext\";\r\n\r\nimport \"../../css/productPage.css\";\r\n\r\n\r\nconst ProductPage = (props) => {\r\n    \r\n    const { addProduct } = useContext(ShoppingCartContext);\r\n\r\n    //product state\r\n    const [ product, setProduct ] = useState(null);\r\n\r\n    //for storing the size\r\n    const [ selection, setSelection ] = useState(null);\r\n\r\n    //for validation\r\n    const [ validSelection, setValidSelection ] = useState(true); \r\n\r\n    //url for shopping cart\r\n    const [ url, setUrl ] = useState(``);\r\n\r\n    //fetch the product\r\n    const fetchProduct = async () => {\r\n        const gender = props.match.params.gender;\r\n        const category = props.match.params.category;\r\n        const subcategory = props.match.params.subcategory;\r\n        const title = props.match.params.title;\r\n        const response = await fetch(`/api/products/product/${gender}/${category}/${subcategory}/${title}`);\r\n        const data = await response.json();\r\n        \r\n        if(response.status === 200) {\r\n            setProduct(data);\r\n            setUrl(`/products/${gender}/${category}/${subcategory}/${title}`);    \r\n        }\r\n        if(response.status !== 200) {\r\n            props.history.push(\"/404\");\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if(!product) {\r\n            fetchProduct();\r\n        }\r\n        \r\n    }, [props.match.params.product_code, selection, validSelection]);\r\n\r\n\r\n    //calculate savings - if product is on sale\r\n    const calcSavings = () => {\r\n        return Math.trunc((product.price - product.salePrice) / product.price);\r\n    }\r\n\r\n    //sets the active image, the image to view in fullscreen\r\n    const [ activeImg, setActiveImg ] = useState(null);\r\n\r\n    const setFullscreenImage = (img) => {\r\n        setActiveImg(img);\r\n    };\r\n\r\n    //handlers\r\n\r\n    //handle image click, opens fullscreen modal\r\n    const handleImage = (e) => {\r\n        const img = e.target.getAttribute(\"data-id\").replace(\"public\", \"\").trim();\r\n        setFullscreenImage(img);\r\n    };\r\n\r\n    //handle size selection\r\n    const handleSize = (e) => {\r\n        let name = \"\";\r\n        let value = e.target.value;\r\n        if(value) {\r\n            product.sizes.forEach(size => {\r\n                if(size.size_number === value) { name=size.size_value; }\r\n            });\r\n        }\r\n        \r\n        setSelection({value: value, name: name });\r\n        console.log(value);\r\n    }\r\n\r\n    //handle submit (add product to cart)\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        let value = null;\r\n        let name = \"\";\r\n\r\n        if(selection) {\r\n            name = selection.name;\r\n            value = selection.value;\r\n        }\r\n        \r\n\r\n        let imgUrl = product.images[0].image_url.replace(\"public\", \"\").trim();\r\n        let index = imgUrl.lastIndexOf(\".\");\r\n        imgUrl = imgUrl.substring(0, index)+\"_s\"+imgUrl.substring(index);\r\n\r\n        let found = false; \r\n        if(product.sizes.length > 0) {\r\n            \r\n           product.sizes.forEach(size => {\r\n                if(size.size_number === value) { found = true; }\r\n            });\r\n            setValidSelection(found);\r\n        }\r\n\r\n        if(found || product.sizes.length === 0) {\r\n            let price = 0;\r\n            if(product.onSale) {\r\n                price = product.salePrice;\r\n            }\r\n            else {\r\n                price = product.price;\r\n            }\r\n\r\n            addProduct(product.itemId, value, product.name, name, price, imgUrl, url);\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n        <React.Fragment>\r\n        <Navbar />\r\n        <div className=\"product-page\">\r\n        {product ? (    \r\n            <div className={`container ${activeImg ? (\"hidden\") : (\"\")}`}>\r\n\r\n                {/* Product Menu */}\r\n                <main className=\"product-menu\">\r\n                    \r\n                    <div className=\"name\">\r\n                        <h1>{product.name}</h1>\r\n                    </div>\r\n                    <div className=\"price\">\r\n                        {product.onSale ? \r\n                            (\r\n                                <div className=\"sale\">\r\n                                    <div className=\"prices\">\r\n                                        <span className=\"normal-price slashed\">{`$${product.price}`}</span>\r\n                                        <span className=\"sale-price\">{`$${product.salePrice}`}</span>\r\n                                    </div>\r\n                                    <div className=\"savings\">\r\n                                        <span>You save {calcSavings()}%</span>\r\n                                    </div>    \r\n                                </div>\r\n                                \r\n                            ) \r\n                            : (<div className=\"sale\"><span className=\"normal-price\">{`$${product.price}`}</span></div>)}\r\n                    </div>\r\n                    \r\n                    \r\n                    <div className=\"description\">\r\n                        <span>{product.description}</span>\r\n                    </div>\r\n                    \r\n                    <form className=\"product-form\" onSubmit={handleSubmit} >\r\n                        {product.sizes.length > 0 ? (\r\n                            <div className=\"sizes\">\r\n                                <h3 className=\"label\">Size</h3>\r\n                                <div className=\"size-options\">\r\n                                {product.sizes.map(size => {\r\n                                    return (\r\n                                        <div className=\"size-option\" \r\n                                            key={size.size_number}\r\n                                            data-id={size.size_number}\r\n                                        >\r\n                                            <input type=\"radio\" id={size.size_value} name=\"size\" \r\n                                                value={size.size_number} onChange={handleSize} />\r\n                                            <label htmlFor={size.size_value}>{size.size_value}</label>    \r\n                                        </div>\r\n                                    )\r\n                                    \r\n                                })}\r\n                                </div>    \r\n                            </div> \r\n                        ) : (\"\")}\r\n\r\n                        {!validSelection && \r\n                        <div className=\"validate\">\r\n                            <p>Please pick a size first</p>\r\n                        </div>\r\n                        }\r\n                        \r\n                        <div className=\"submit\">\r\n                            <input type=\"submit\" value=\"add to bag\" />       \r\n                        </div>\r\n                    </form>\r\n                    \r\n                    \r\n\r\n                    <div className=\"details\">\r\n                        <h3>Details</h3>\r\n                        <ul>\r\n                            {product.details.map(detail => {\r\n                                return (\r\n                                    <li key={uuidv4()}>{detail.detail_info}</li>\r\n                                )\r\n                            })}    \r\n                        </ul>    \r\n                    </div>\r\n                </main>\r\n                \r\n                {/* Image Gallery */}\r\n                <div className=\"img-gallery\">\r\n                    {product.images.map(image => {\r\n                        let imgUrl = image.image_url.replace(\"public\", \"\").trim();\r\n                        let index = imgUrl.lastIndexOf(\".\");\r\n                        imgUrl = imgUrl.substring(0, index)+\"_m\"+imgUrl.substring(index);\r\n                        return (\r\n                            <div key={uuidv4()} className=\"img-item\">\r\n                                <img src={imgUrl} alt={product.name} \r\n                                    key={uuidv4()} data-id={image.image_url} onClick={handleImage} \r\n                                />\r\n                            </div>    \r\n                        )\r\n                    })}\r\n                </div>    \r\n            </div>\r\n        ) : (<Loading />)}\r\n\r\n        {/* Image fullscreen preview */}\r\n        {activeImg && \r\n            <ProductFullscreen  \r\n                setFullscreenImage={setFullscreenImage}\r\n                imgUrl={activeImg}\r\n            />}    \r\n\r\n        </div>\r\n        <Footer />\r\n        </React.Fragment>\r\n    )\r\n}\r\n\r\nexport default withRouter(ProductPage);","import React, { createContext, useState } from \"react\";\r\n\r\nexport const AuthContext = createContext();\r\n\r\nconst AuthContextProvider = (props) => {\r\n    \r\n    const [authenticated, setAuthenticated] = useState(false);\r\n\r\n    const checkAuth = async () => {\r\n        let loggedIn = false;\r\n\r\n        const response = await fetch(\"/auth/validate\");\r\n        const data = await response.json();\r\n\r\n        if(data.status) {\r\n            loggedIn = true;\r\n        }\r\n\r\n        setAuthenticated(loggedIn);\r\n\r\n        return loggedIn;\r\n    };\r\n        \r\n    return (\r\n        //export the Provider object of the AuthContext context (not the class itself) \r\n        <AuthContext.Provider value={{ authenticated, checkAuth }}>\r\n            {props.children}\r\n        </AuthContext.Provider>\r\n    )\r\n\r\n}\r\n\r\nexport default AuthContextProvider;","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nimport Loading from \"../loading/loading\";\r\n\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\nimport { ShoppingCartContext } from \"../../contexts/ShoppingCartContext\";\r\n\r\nimport \"../../css/login.css\"\r\n\r\nconst Login = (props) => {\r\n\r\n    const { getUserCart } = useContext(ShoppingCartContext);\r\n\r\n    const { register, handleSubmit, reset } = useForm();\r\n\r\n    const [ errors, setErrors ] = useState([]);\r\n    \r\n    const [loading, setLoading] = useState(true);\r\n\r\n    //auth context for guarding the route\r\n    const { checkAuth } = useContext(AuthContext);\r\n\r\n    //redirect to my-account on login, or if already logged in\r\n    const redirectToDashboard = async () => {\r\n        const validated = await checkAuth();\r\n        if(validated) {\r\n            props.history.push(\"/account/my-account\");\r\n        }\r\n    };\r\n\r\n    //runs on mount, checks if user is authenticated\r\n    useEffect(() => {\r\n        redirectToDashboard();\r\n        setLoading(false);\r\n    }, []);\r\n\r\n    //login to account\r\n    const login = async (account) => {\r\n        const response = await fetch(\"/auth/login\", {\r\n                            method: \"POST\",\r\n                            headers: {\r\n                                \"Content-Type\": \"application/json\"\r\n                            },\r\n                            body: JSON.stringify(account)\r\n                        });\r\n        const data = await response.json();\r\n\r\n        if(response.status !== 200 &&\r\n            response.status !== 403 ) {\r\n            setErrors([...data.errors]);\r\n        }\r\n        else if(response.status === 403) {\r\n            redirectToDashboard();\r\n        }\r\n        else {\r\n            reset();\r\n            getUserCart();  //get the user's shopping cart on login\r\n            redirectToDashboard();    \r\n        }\r\n    };\r\n\r\n    //handle form submit\r\n    const onSubmit = (data, e) => {\r\n        e.preventDefault();\r\n\r\n        window.scrollTo(0,0);\r\n        login(data);\r\n    };\r\n\r\n\r\n    return (\r\n        <div className=\"login-page\">\r\n            <div className=\"container\">\r\n\r\n                <header className=\"login-header\">\r\n                    <Link to=\"/\">\r\n                        <img src=\"/assets/company/logo.svg\" alt=\"logo\" />\r\n                    </Link>\r\n                    <p>Your Account</p>\r\n                </header>\r\n\r\n                {!loading ? (<div>\r\n\r\n                \r\n                {errors.length > 0 &&\r\n                    <div className=\"messages\">\r\n                        <ul>\r\n                            {errors.map(error => {\r\n                                return (\r\n                                    <li key={uuidv4()}>{error}</li>\r\n                                )\r\n                            })}\r\n                        </ul>\r\n                    </div>\r\n                }\r\n\r\n                <div className=\"login-menu\">\r\n                    <div className=\"register\">\r\n                        <h1>Register</h1>\r\n                        <p>\r\n                            Create an account to manage your orders and view all your personal information.\r\n                        </p>\r\n                        <div className=\"register-btn\">\r\n                            <Link to=\"/account/register\">\r\n                                <button>Create An Account</button>\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"login\">\r\n                        <h1>Log In</h1>\r\n                        <form className=\"login-form\" onSubmit={handleSubmit(onSubmit)}>\r\n                            <div className=\"input-group\">\r\n                                <label htmlFor=\"email\">Email Address</label>\r\n                                <input type=\"email\" name=\"email\" id=\"email\" required \r\n                                    ref={register} />    \r\n                            </div>\r\n                            <div className=\"input-group\">\r\n                                <label htmlFor=\"password\">Password</label>\r\n                                <input type=\"password\" name=\"password\" id=\"password\" required \r\n                                    ref={register} />\r\n                            </div>\r\n                            \r\n                            <div className=\"login-btn\">\r\n                                <input type=\"submit\" value=\"Log In\" />\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>) : (<Loading />)}\r\n            \r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default withRouter(Login);","import React from \"react\";\r\n\r\n//Takes 1 prop: setStateUSA to update the parent's state\r\n\r\nconst StatesDropdown = (props) => {\r\n\r\n    const handleChange = (e) => {\r\n        props.setStateUSA(e.target.value);\r\n        console.log(e.target.value);\r\n    }\r\n\r\n    return (\r\n        <select className=\"states-dropdown\" onChange={handleChange}>\r\n            <option value=\"\">Pick A State</option>\r\n            <option value=\"AL\">Alabama</option>\r\n            <option value=\"AK\">Alaska</option>\r\n            <option value=\"AZ\">Arizona</option>\r\n            <option value=\"AR\">Arkansas</option>\r\n            <option value=\"CA\">California</option>\r\n            <option value=\"CO\">Colorado</option>\r\n            <option value=\"CT\">Connecticut</option>\r\n            <option value=\"DE\">Delaware</option>\r\n            <option value=\"DC\">District Of Columbia</option>\r\n            <option value=\"FL\">Florida</option>\r\n            <option value=\"GA\">Georgia</option>\r\n            <option value=\"HI\">Hawaii</option>\r\n            <option value=\"ID\">Idaho</option>\r\n            <option value=\"IL\">Illinois</option>\r\n            <option value=\"IN\">Indiana</option>\r\n            <option value=\"IA\">Iowa</option>\r\n            <option value=\"KS\">Kansas</option>\r\n            <option value=\"KY\">Kentucky</option>\r\n            <option value=\"LA\">Louisiana</option>\r\n            <option value=\"ME\">Maine</option>\r\n            <option value=\"MD\">Maryland</option>\r\n            <option value=\"MA\">Massachusetts</option>\r\n            <option value=\"MI\">Michigan</option>\r\n            <option value=\"MN\">Minnesota</option>\r\n            <option value=\"MS\">Mississippi</option>\r\n            <option value=\"MO\">Missouri</option>\r\n            <option value=\"MT\">Montana</option>\r\n            <option value=\"NE\">Nebraska</option>\r\n            <option value=\"NV\">Nevada</option>\r\n            <option value=\"NH\">New Hampshire</option>\r\n            <option value=\"NJ\">New Jersey</option>\r\n            <option value=\"NM\">New Mexico</option>\r\n            <option value=\"NY\">New York</option>\r\n            <option value=\"NC\">North Carolina</option>\r\n            <option value=\"ND\">North Dakota</option>\r\n            <option value=\"OH\">Ohio</option>\r\n            <option value=\"OK\">Oklahoma</option>\r\n            <option value=\"OR\">Oregon</option>\r\n            <option value=\"PA\">Pennsylvania</option>\r\n            <option value=\"RI\">Rhode Island</option>\r\n            <option value=\"SC\">South Carolina</option>\r\n            <option value=\"SD\">South Dakota</option>\r\n            <option value=\"TN\">Tennessee</option>\r\n            <option value=\"TX\">Texas</option>\r\n            <option value=\"UT\">Utah</option>\r\n            <option value=\"VT\">Vermont</option>\r\n            <option value=\"VA\">Virginia</option>\r\n            <option value=\"WA\">Washington</option>\r\n            <option value=\"WV\">West Virginia</option>\r\n            <option value=\"WI\">Wisconsin</option>\r\n            <option value=\"WY\">Wyoming</option>\r\n        </select>\r\n    )\r\n};\r\n\r\nexport default StatesDropdown;","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\n\r\nimport StatesDropdown from \"./statesDropdown\";\r\n\r\nimport \"../../css/registerPage.css\";\r\n\r\n\r\nconst Register = (props) => {\r\n\r\n    const { register, handleSubmit, reset } = useForm();\r\n\r\n    const [errors, setErrors] = useState([]);\r\n\r\n    //stores the value of the state dropdown\r\n    const [ stateUSA, setStateUSA ] = useState(\"\");\r\n\r\n    //auth context for guarding the route\r\n    const { checkAuth } = useContext(AuthContext);\r\n\r\n    //redirect to my-account on register, or if already logged in\r\n    const redirectToDashboard = async () => {\r\n        const validated = await checkAuth();\r\n        if(validated) {\r\n            props.history.push(\"/account/my-account\");\r\n        }\r\n    };\r\n\r\n    //runs on mount, checks if user is authenticated\r\n    useEffect(() => {\r\n        redirectToDashboard();\r\n    }, []);\r\n\r\n    //register account\r\n    const registerAccount = async (account) => {\r\n        const response = await fetch(\"/auth/register\", {\r\n                            method: \"POST\",\r\n                            headers: {\r\n                                \"Content-Type\": \"application/json\"\r\n                            },\r\n                            body: JSON.stringify(account)\r\n                        });\r\n        const data = await response.json();\r\n\r\n        if(response.status !== 200 &&\r\n            response.status !== 403 ) {\r\n            setErrors([...data.errors]);\r\n        }\r\n        else if(response.status === 403) {\r\n            redirectToDashboard();\r\n        }\r\n        else {\r\n            reset();\r\n            \r\n            setErrors([\"Account Successfully Created! You will be redirected shortly.\"]);\r\n            props.history.push(\"/account/my-account\");\r\n            window.scrollTo(0,0);\r\n        }\r\n    };\r\n\r\n    //handle form submit\r\n    const onSubmit = (data, e) => {\r\n        e.preventDefault();\r\n\r\n        const userData = {...data, state: stateUSA};\r\n\r\n        window.scrollTo(0,0);\r\n        registerAccount(userData);\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"register-page\">\r\n            <div className=\"container\">\r\n\r\n                <header className=\"register-header\">\r\n                    <Link to=\"/\">\r\n                        <img src=\"/assets/company/logo.svg\" alt=\"logo\" />\r\n                    </Link>\r\n                    <p>Your Account</p>\r\n                </header>\r\n\r\n                {errors.length > 0 &&\r\n                    <div className=\"messages\">\r\n                        <ul>\r\n                            {errors.map(error => {\r\n                                return (\r\n                                    <li key={uuidv4()}>{error}</li>\r\n                                )\r\n                            })}\r\n                        </ul>\r\n                    </div>\r\n                }\r\n                \r\n                <form className=\"registration-form\" onSubmit={handleSubmit(onSubmit)}>\r\n\r\n                    <div className=\"form-header\">\r\n                        <h1>Register</h1>\r\n                        <p><Link to=\"/account/login\">Already registered? Click here.</Link></p>\r\n                        <p className=\"directions\">\r\n                            If you wish to test this registration page, please DO NOT enter any sensitive information, \r\n                            such as your real name & address or a password, email, etc. that you actually use. The server \r\n                            will delete any account you register the next time it spins up.\r\n                        </p>    \r\n                    </div>\r\n\r\n                    <div className=\"credentials\">\r\n                        <h2>Your Credentials</h2>\r\n\r\n                        <div className=\"input-group\">\r\n                            <label htmlFor=\"email\">Email</label>\r\n                            <input type=\"email\" id=\"email\" name=\"email\" required \r\n                                ref={register} />\r\n                        </div>\r\n                        <div className=\"input-group\">\r\n                            <label htmlFor=\"password\">Password</label>\r\n                            <p className=\"directions\">\r\n                                Your password must have at least 8 characters containing letters with no spaces, \r\n                                at least one number, an uppercase letter and a special character.\r\n                            </p>\r\n                            <input type=\"password\" id=\"password\" name=\"password\" required \r\n                                ref={register} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"personal-info\">\r\n                        <h2>Your Personal Information</h2>\r\n\r\n                        <div className=\"input-group\">\r\n                            <label htmlFor=\"firstName\">First Name</label>\r\n                            <input type=\"text\" id=\"firstName\" name=\"firstName\" required \r\n                                ref={register} />\r\n                        </div>\r\n                        <div className=\"input-group\">\r\n                            <label htmlFor=\"lastName\">Last Name</label>\r\n                            <input type=\"text\" id=\"lastName\" name=\"lastName\" required \r\n                                ref={register} />\r\n                        </div>\r\n                        <div className=\"input-group\">\r\n                            <label htmlFor=\"streetAddress\">Street Address</label>\r\n                            <input type=\"text\" id=\"streetAddress\" name=\"streetAddress\" required \r\n                                ref={register} />\r\n                        </div>\r\n                        <div className=\"input-group\">\r\n                            <label htmlFor=\"city\">City</label>\r\n                            <input type=\"text\" id=\"city\" name=\"city\" required \r\n                                ref={register} />\r\n                        </div>\r\n                        <div className=\"input-group\">\r\n                            <label htmlFor=\"state\">State</label>\r\n                            <StatesDropdown id=\"state\" name=\"state\" required \r\n                                setStateUSA={setStateUSA} />\r\n                        </div>\r\n                        <div className=\"input-group\">\r\n                            <label htmlFor=\"zipcode\">Zipcode</label>\r\n                            <input type=\"number\" id=\"zipcode\" name=\"zipcode\" min=\"10000\" max=\"99999\" required \r\n                                ref={register} />\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"submission\">\r\n                        <div className=\"terms\">\r\n                            <p>\r\n                                By clicking on Create my account you confirm you have read the privacy \r\n                                policy and consent to the processing of your personal data by Desert Shore \r\n                                for the management of your account in the conditions set forth in the \r\n                                Terms and Conditions available in the footer.\r\n                            </p>\r\n                            <p>\r\n                                As per applicable laws and regulations, you are entitled to access, correct \r\n                                and delete any data that may relate to you. You may also ask us not to send you \r\n                                personalized communications on our products and services.\r\n                                You may exercise these right at any time directly in the menu My Account.\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"submit-btn\">\r\n                            <input type=\"submit\" value=\"Create My Account\" />\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default withRouter(Register);","import React, { useState } from \"react\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\n//this component is a list item of the orders list in my account\r\n//It takes 1 prop: order - which contains the data for 1 individual order\r\n\r\nconst OrderItem = (props) => {\r\n\r\n    const [ toggled, setToggled ] = useState(false);\r\n\r\n    const toggleOrder = (e) => {\r\n       setToggled(!toggled);\r\n    }\r\n\r\n    const computeTotal = () => {\r\n        let total = 0;\r\n        props.order.contents.forEach(product => {\r\n            total += product.price * product.quantity;\r\n        })\r\n\r\n        return total.toFixed(2);\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"order-item\">\r\n        <button className={`order-toggle ${toggled ? (\"expanded\"):(\"collapsed\")}`}\r\n            onClick={toggleOrder}>\r\n\r\n            <div className=\"details\">\r\n                <h2>Order Number: {props.order.orderNumber}</h2>\r\n                <p>{new Date(props.order.date).toDateString()}</p>\r\n            </div>\r\n            <img src=\"/assets/icons/chevron.svg\" alt=\"collapse-expand\" className='expand-icon'></img>\r\n        </button>\r\n\r\n        <div className={`shipping-info ${toggled ? (\"\"):(\"hidden\")}`}>\r\n            <h2>Shipped to:</h2>\r\n            <p>{props.order.streetAddress}</p>\r\n            <p>{`${props.order.city}, ${props.order.state} ${props.order.zipcode}`}</p>\r\n        </div>\r\n\r\n        <div className={`order-total ${toggled ? (\"\"):(\"hidden\")}`}>\r\n            <span>Order Total: ${computeTotal()}</span>\r\n        </div>\r\n\r\n        <ul className={`order-list ${toggled ? (\"\"):(\"hidden\")}`}>\r\n            {props.order.contents.map(product => {\r\n\r\n                return (\r\n                    <li className=\"product\" key={uuidv4()}>\r\n                        <div className=\"product-content\">\r\n\r\n                            <div className=\"sm-screen-left\">\r\n                                <div className=\"img\">\r\n                                    <img src={product.image} alt=\"thumbnail\" />\r\n                                </div> \r\n                            </div>\r\n\r\n                            <div className=\"sm-screen-right\">\r\n                                <div className=\"name\">\r\n                                    <span>{product.name}</span>\r\n                                </div>\r\n                                <div className=\"size\">\r\n                                    {product.sizeName ? (\r\n                                        <span>Size: {product.sizeName}</span>    \r\n                                    ) : (<span></span>)}\r\n                                </div>\r\n                                <div className=\"quantity\">\r\n                                    <span>Qty: {product.quantity}</span>\r\n                                </div>\r\n                                <div className=\"price\">\r\n                                    <span>{`$${(Math.round(product.price * product.quantity * 100) / 100).toFixed(2)}`}</span>\r\n                                </div>   \r\n                            </div>\r\n\r\n                        </div>\r\n                    </li>\r\n                )\r\n\r\n            })}\r\n        </ul>\r\n        </div>\r\n    )\r\n\r\n};\r\n\r\nexport default OrderItem;","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { withRouter, Link } from \"react-router-dom\";\r\n\r\nimport OrderItem from \"./orderItem\";\r\nimport Loading from \"../loading/loading\";\r\n\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\nimport { ShoppingCartContext } from \"../../contexts/ShoppingCartContext\";\r\n\r\nimport \"../../css/myAccount.css\";\r\n\r\nconst MyAccount = (props) => {\r\n\r\n    //auth context for guarding the route\r\n    const { checkAuth } = useContext(AuthContext);\r\n\r\n    const { getUserCart } = useContext(ShoppingCartContext);\r\n\r\n    //redirect to login page, if not logged in\r\n    const validateOnMount = async () => {\r\n        const validated = await checkAuth();\r\n        if(!validated) {\r\n            props.history.push(\"/account/login\");\r\n        }\r\n        else {\r\n            fetchOrders();\r\n            fetchUserInfo();\r\n            getUserCart();\r\n        }\r\n    };\r\n\r\n    //dashboard data\r\n    const [ orders, setOrders ] = useState([]);\r\n    const [ userInfo, setUserInfo ] = useState({});\r\n\r\n    //fetch user orders\r\n    const fetchOrders = async () => {\r\n        const response = await fetch(\"/api/user/orders\");\r\n        const data = await response.json();\r\n        \r\n        if(response.status === 200) {\r\n            setOrders([...data]);\r\n        }\r\n    };\r\n\r\n    //fetch user info\r\n    const fetchUserInfo = async () => {\r\n        const response = await fetch(\"/api/user/user-info\");\r\n        const data = await response.json();\r\n        \r\n        if(response.status === 200) {\r\n            setUserInfo({...data});\r\n        }\r\n    }\r\n\r\n    //runs on mount, checks if user is authenticated\r\n    useEffect(() => {\r\n        validateOnMount();\r\n    }, []);\r\n\r\n\r\n    //logout\r\n    const logout = async () => {\r\n        const response = await fetch(\"/auth/logout\", {method: \"POST\"});\r\n        if(response.status === 200) {\r\n            props.history.push(\"/\");\r\n        }\r\n    };\r\n\r\n    //handlers\r\n    const handleLogout = () => {\r\n        logout();\r\n    };\r\n    \r\n    return (\r\n        <div className=\"my-account\">\r\n            \r\n            {userInfo && \r\n\r\n            <div className=\"container\">\r\n                <header className=\"myaccount-header\">\r\n                    <Link to=\"/\">\r\n                        <img src=\"/assets/company/logo.svg\" alt=\"logo\" />\r\n                    </Link>\r\n                    <p>Your Account</p>\r\n                </header>\r\n\r\n                {orders && Object.keys(userInfo).length > 0 ? (<div>\r\n                <main className=\"user-dash\">\r\n\r\n                    {userInfo.isAdmin && \r\n                        <div className=\"cms-access\">\r\n                            <Link to=\"/cms\">Click here for CMS access</Link>\r\n                        </div>\r\n                    }\r\n                    \r\n                    <div className=\"logout\">\r\n                        <button onClick={handleLogout}>Log Out</button>\r\n                    </div>\r\n\r\n                    <div className=\"user-info\">\r\n                        <h2>Customer</h2>\r\n                        <p>{`${userInfo.firstName} ${userInfo.lastName}`}</p>\r\n                        <p>{`${userInfo.streetAddress}`}</p>\r\n                        <p>{`${userInfo.city}, ${userInfo.state} ${userInfo.zipcode}`}</p>\r\n                    </div>\r\n\r\n                    <div className=\"orders-total\">\r\n                        <h2>Orders Summary</h2>\r\n                        <p>There are {orders.length} orders on record.</p>\r\n                    </div>\r\n\r\n                    <div className=\"orders\">\r\n                        {orders.length > 0 ? (\r\n\r\n                            <ul className=\"orders-list\">\r\n                                {orders.map(order => {\r\n                                    return (\r\n                                        <li key={order.orderNumber} className=\"order-details\">\r\n                                            <OrderItem order={order} />\r\n                                        </li>\r\n                                    )\r\n                                })}\r\n                            </ul>\r\n\r\n                        ) : (<div className=\"no-orders\">You have not placed any orders.</div>)}\r\n                    </div>\r\n                    \r\n                </main>\r\n                \r\n                </div>) : (<Loading />)}\r\n            </div>\r\n\r\n            }\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default withRouter(MyAccount);","import React, { useContext, useEffect } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nimport Loading from \"../loading/loading\";\r\n\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\nimport { ShoppingCartContext } from \"../../contexts/ShoppingCartContext\";\r\n\r\nimport \"../../css/shoppingCart.css\";\r\n\r\nconst ShoppingCart = (props) => {\r\n\r\n    const { checkAuth } = useContext(AuthContext);\r\n\r\n    const { cart, removeProduct, changeQuantity, saveUserCart } = useContext(ShoppingCartContext);\r\n    \r\n    const saveCart = async () => {\r\n        let validated = await checkAuth();\r\n        if(validated) {\r\n            saveUserCart();\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        saveCart();\r\n    }, []);\r\n\r\n\r\n    const computeTotal = () => {\r\n        let total = 0;\r\n        cart.forEach(product => {\r\n            total += product.price * product.quantity;\r\n        })\r\n\r\n        return total.toFixed(2);\r\n    }\r\n\r\n\r\n    //handlers\r\n    const handleRemove = (e) => {\r\n        const identifier = e.target.getAttribute(\"data-id\");\r\n        const found = cart.find(product => {\r\n            return product.identifier === identifier\r\n        });\r\n\r\n        if(found !== -1) {\r\n            removeProduct(identifier);\r\n        }\r\n    }\r\n    const increaseQty = (e) => {\r\n        const identifier = e.target.getAttribute(\"data-id\");\r\n\r\n        const found = cart.find(product => {\r\n            return product.identifier === identifier\r\n        });\r\n\r\n        if(found !== -1) {\r\n            let quantity = found.quantity + 1;\r\n            if(quantity < 1){\r\n                quantity = 1;\r\n            }\r\n            else if(quantity > 10) {\r\n                quantity = 10;\r\n            }\r\n\r\n            changeQuantity(identifier, quantity);\r\n        }\r\n    }\r\n    const decreaseQty = (e) => {\r\n        const identifier = e.target.getAttribute(\"data-id\");\r\n\r\n        const found = cart.find(product => {\r\n            return product.identifier === identifier\r\n        });\r\n\r\n        if(found !== -1) {\r\n            let quantity = found.quantity - 1;\r\n            if(quantity < 1){\r\n                quantity = 1;\r\n            }\r\n            else if(quantity > 10) {\r\n                quantity = 10;\r\n            }\r\n\r\n            changeQuantity(identifier, quantity);\r\n        }\r\n    }\r\n\r\n    /* *checkout handler* */\r\n    const handleCheckout = async () => {\r\n        let validated = await checkAuth();\r\n        if(!validated) {\r\n            props.history.push(\"/account/login\");\r\n        }\r\n        else {\r\n            props.history.push(\"/checkout\");\r\n        }\r\n    }\r\n\r\n    \r\n    return (\r\n        <div className=\"shopping-cart\">\r\n\r\n            <div className=\"container\">\r\n\r\n                <header className=\"cart-header\">\r\n                    <Link to=\"/\">\r\n                        <img src=\"/assets/company/logo.svg\" alt=\"logo\" />\r\n                    </Link>\r\n                    <p>Shopping Bag</p>\r\n                </header>\r\n                \r\n                {cart ? (<div>\r\n                {cart.length > 0 ? ( \r\n                <main className=\"bag-content\">\r\n                    <ul className=\"bag-list\">\r\n                        {cart.map(product => {\r\n\r\n                            return (\r\n                                <li className=\"product\" key={uuidv4()}>\r\n                                    <div className=\"product-content\">\r\n\r\n                                        <div className=\"sm-screen-left\">\r\n                                            <div className=\"img\">\r\n                                                <Link to={product.url}>\r\n                                                    <img src={product.image} alt=\"thumbnail\" />\r\n                                                </Link>\r\n                                            </div>    \r\n                                        </div>\r\n\r\n                                        <div className=\"sm-screen-right\">\r\n                                            <div className=\"name\">\r\n                                                <span>{product.name}</span>\r\n                                            </div>\r\n                                            <div className=\"size\">\r\n                                                {product.sizeName ? (\r\n                                                    <span>Size: {product.sizeName}</span>    \r\n                                                ) : (<span></span>)}\r\n                                            </div>\r\n                                            <div className=\"quantity\">\r\n                                                <button className=\"qty-toggle\" data-id={product.identifier}\r\n                                                    onClick={increaseQty} >+</button>\r\n                                                <button className=\"qty-toggle\" data-id={product.identifier}\r\n                                                    onClick={decreaseQty} >-</button>\r\n\r\n                                                <div className=\"qty-display\">\r\n                                                    <span>{product.quantity}</span>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div className=\"price\">\r\n                                                <span>{`$${(Math.round(product.price * product.quantity * 100) / 100).toFixed(2)}`}</span>\r\n                                            </div>\r\n                                            <div className=\"remove\">\r\n                                                <button data-id={product.identifier} \r\n                                                    onClick={handleRemove}>Remove</button>\r\n                                            </div>    \r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </li>\r\n                            )\r\n\r\n                        })}\r\n                    </ul>\r\n\r\n                    <div className=\"checkout\">\r\n                        <h2>Your Shopping Bag</h2>\r\n                        <div className=\"subtotal\">\r\n                            <span>subtotal</span>\r\n                            <span className=\"checkout-total\">${computeTotal()}</span>\r\n                        </div>\r\n                        <div className=\"checkout-btn\">\r\n                            <button onClick={handleCheckout}>Checkout</button>\r\n                        </div>\r\n                    </div>\r\n                </main> ) : \r\n                (\r\n                    <div className=\"empty-bag\">\r\n                        <p>Your shopping bag is empty.</p>\r\n                        <Link to=\"/\">Back to shopping</Link>\r\n                    </div>\r\n                )}\r\n                </div>) : (<Loading />)}\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default withRouter(ShoppingCart);","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nimport Loading from \"../loading/loading\";\r\n\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\nimport { ShoppingCartContext } from \"../../contexts/ShoppingCartContext\";\r\n\r\nimport \"../../css/checkout.css\";\r\n\r\nconst Checkout = (props) => {\r\n\r\n    const { checkAuth } = useContext(AuthContext);\r\n\r\n    const { cart, deleteUserCart } = useContext(ShoppingCartContext);\r\n\r\n    const [ userInfo, setUserInfo ] = useState({});\r\n\r\n    const fetchUserInfo = async () => {\r\n        const response = await fetch(\"/api/user/user-info\");\r\n        const data = await response.json();\r\n        console.log(data);\r\n        if(response.status === 200) {\r\n            setUserInfo({...data});\r\n        }\r\n    }\r\n\r\n    const validateOnMount = async () => {\r\n        let validated = await checkAuth();\r\n        if(validated) {\r\n            fetchUserInfo();  \r\n        }\r\n        else {\r\n            props.history.push(\"/account/login\");\r\n        }\r\n    } \r\n\r\n    useEffect(() => {\r\n        if(cart.length === 0) {\r\n            props.history.push(\"/\");\r\n        }\r\n\r\n        validateOnMount();\r\n\r\n    }, []);\r\n    \r\n\r\n    const deleteCart = async () => {\r\n        let validated = await checkAuth();\r\n        if(validated) {\r\n            deleteUserCart();\r\n        }\r\n    }\r\n\r\n    const sumbitOrder = async () => {\r\n        const response = await fetch(\"/api/user/orders\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(cart)\r\n        });\r\n        const data = await response.json();\r\n        console.log(data);\r\n        if(response.status === 200) {\r\n            deleteCart(); \r\n        }\r\n    };\r\n\r\n    const computeTotal = () => {\r\n        let total = 0;\r\n        cart.forEach(product => {\r\n            total += product.price * product.quantity;\r\n        })\r\n\r\n        return total.toFixed(2);\r\n    }\r\n\r\n\r\n    //handlers\r\n    const handleCheckout = async () => {\r\n        let validated = await checkAuth();\r\n        if(!validated) {\r\n            props.history.push(\"/account/login\");\r\n        }\r\n        else {\r\n            sumbitOrder();\r\n            props.history.push(\"/account/my-account\");\r\n        }\r\n    }\r\n\r\n    \r\n    return (\r\n        <div className=\"checkout\">\r\n\r\n            <div className=\"container\">\r\n\r\n                <header className=\"cart-header\">\r\n                    <Link to=\"/\">\r\n                        <img src=\"/assets/company/logo.svg\" alt=\"logo\" />\r\n                    </Link>\r\n                    <p>Checkout</p>\r\n                </header>\r\n                \r\n                {cart ? (<div>\r\n                {cart.length > 0 ? ( \r\n                <main className=\"bag-content\">\r\n                    <ul className=\"bag-list\">\r\n                        {cart.map(product => {\r\n\r\n                            return (\r\n                                <li className=\"product\" key={uuidv4()}>\r\n                                    <div className=\"product-content\">\r\n\r\n                                        <div className=\"sm-screen-left\">\r\n                                            <div className=\"img\">\r\n                                                <Link to={`/products/${product.itemId}`}>\r\n                                                    <img src={product.image} alt=\"thumbnail\" />\r\n                                                </Link>\r\n                                            </div>    \r\n                                        </div>\r\n\r\n                                        <div className=\"sm-screen-right\">\r\n                                            <div className=\"name\">\r\n                                                <span>{product.name}</span>\r\n                                            </div>\r\n                                            <div className=\"size\">\r\n                                                {product.sizeName ? (\r\n                                                    <span>Size: {product.sizeName}</span>    \r\n                                                ) : (<span></span>)}\r\n                                            </div>\r\n                                            <div className=\"price\">\r\n                                                <span>{`$${(Math.round(product.price * product.quantity * 100) / 100).toFixed(2)}`}</span>\r\n                                            </div>   \r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </li>\r\n                            )\r\n\r\n                        })}\r\n                    </ul>\r\n\r\n                    <div className=\"options-column\">\r\n                        <div className=\"edit-cart\">\r\n                            <Link to=\"/shopping-bag\">Edit Bag</Link>\r\n                        </div>\r\n\r\n                        <div className=\"personal-info\">\r\n                            <h2>Shipping Info</h2>\r\n                            <p className=\"note\">Note: This componet is a stand-in</p>\r\n                            { userInfo &&\r\n                            <div className=\"shipping\">\r\n                                <p className=\"full-name\">{userInfo.firstName} {userInfo.lastName}</p>\r\n                                <p className=\"address\">{userInfo.streetAddress}</p>\r\n                                <p className=\"city-state-zip\">{userInfo.city}, {userInfo.state} {userInfo.zipcode}</p>\r\n                            </div>}\r\n                        </div>\r\n\r\n                        <div className=\"checkout\">\r\n                            <h2>Checkout</h2>\r\n                            <div className=\"subtotal\">\r\n                                <span>Order total</span>\r\n                                <span className=\"checkout-total\">${computeTotal()}</span>\r\n                            </div>\r\n                            <div className=\"checkout-btn\">\r\n                                <button onClick={handleCheckout}>Place Order</button>\r\n                            </div>\r\n                        </div>    \r\n                    </div>\r\n                    \r\n                    \r\n                </main> ) : \r\n                (\r\n                    <div className=\"empty-bag\">\r\n                        <p>Your shopping bag is empty.</p>\r\n                        <Link to=\"/\">Back to shopping</Link>\r\n                    </div>\r\n                )}\r\n                </div>) : (<Loading />)}\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default withRouter(Checkout);","import React from \"react\";\r\n\r\nimport \"../../css/tos.css\"\r\n\r\nconst TOS = () => {\r\n\r\n    return (\r\n        <div className=\"terms-of-service\">\r\n            <div className=\"container\">\r\n                \r\n                <h1>\r\n                Terms and Conditions\r\n                </h1>\r\n                <p><b>You are not bound by these terms and conditions, since this is a demo and not a real business.</b></p>\r\n                <p><b>No real commerce is to be done on this site. No real goods and services are exchanged.</b></p>\r\n                <p>\r\n                In using this website you are deemed to have read and agreed to the following terms and conditions:\r\n                </p>\r\n                <p>\r\n                The following terminology applies to these Terms and Conditions, Privacy Statement and Disclaimer Notice and any or all Agreements: \"Client\", You and Your refers to you, the person accessing this website and accepting the Companys terms and conditions. \"The Company\", Ourselves, We and \"Us\", refers to our Company. Party, Parties, or Us, refers to both the Client and ourselves, or either the Client or ourselves. All terms refer to the offer, acceptance and consideration of payment necessary to undertake the process of our assistance to the Client in the most appropriate manner, whether by formal meetings of a fixed duration, or any other means, for the express purpose of meeting the Clients needs in respect of provision of the Companys stated services/products, in accordance with and subject to, prevailing English Law. Any use of the above terminology or other words in the singular, plural, capitalisation and/or he/she or they, are taken as interchangeable and therefore as referring to same.\r\n                </p>\r\n\r\n                <h3>\r\n                Privacy Statement\r\n                </h3>\r\n                <p>\r\n                We are committed to protecting your privacy. Authorized employees within the company on a need to know basis only use any information collected from individual customers. We constantly review our systems and data to ensure the best possible service to our customers. Parliament has created specific offences for unauthorised actions against computer systems and data. We will investigate any such actions with a view to prosecuting and/or taking civil proceedings to recover damages against those responsible\r\n                </p>\r\n                <h3>\r\n                Confidentiality\r\n                </h3>\r\n                <p>\r\n                We are registered under the Data Protection Act 1998 and as such, any information concerning the Client and their respective Client Records may be passed to third parties. However, Client records are regarded as confidential and therefore will not be divulged to any third party, other than [our manufacturer/supplier(s) and] if legally required to do so to the appropriate authorities. Clients have the right to request sight of, and copies of any and all Client Records we keep, on the proviso that we are given reasonable notice of such a request. Clients are requested to retain copies of any literature issued in relation to the provision of our services. Where appropriate, we shall issue Clients with appropriate written information, handouts or copies of records as part of an agreed contract, for the benefit of both parties.\r\n                </p>\r\n                <p>\r\n                We will not sell, share, or rent your personal information to any third party or use your e-mail address for unsolicited mail. Any emails sent by this Company will only be in connection with the provision of agreed services and products.\r\n                </p>\r\n                <h2>\r\n                Disclaimer\r\n                </h2>\r\n                <h3>\r\n                Exclusions and Limitations\r\n                </h3> \r\n                <ul>\r\n                <p>\r\n                The information on this web site is provided on an \"as is\" basis. To the fullest extent permitted by law, this Company:\r\n                </p>\r\n                <ul>\r\n                <li>\r\n                excludes all representations and warranties relating to this website and its contents or which is or may be provided by any affiliates or any other third party, including in relation to any inaccuracies or omissions in this website and/or the Companys literature; and \r\n                </li>\r\n                <li>\r\n                excludes all liability for damages arising out of or in connection with your use of this website. This includes, without limitation, direct loss, loss of business or profits (whether or not the loss of such profits was foreseeable, arose in the normal course of things or you have advised this Company of the possibility of such potential loss), damage caused to your computer, computer software, systems and programs and the data thereon or any other direct or indirect, consequential and incidental damages. \r\n                </li>\r\n                </ul>\r\n                <p>\r\n                This Company does not however exclude liability for death or personal injury caused by its negligence. The above exclusions and limitations apply only to the extent permitted by law. None of your statutory rights as a consumer are affected. \r\n                </p>\r\n                </ul>\r\n                <h3>\r\n                Payment\r\n                </h3>\r\n                <p>\r\n                Cash or Personal Cheque with Bankers Card, all major Credit/Debit Cards, Bankers Draft or BACS Transfer are all acceptable methods of payment. Our Terms are payment in full within thirty days. All goods remain the property of the Company until paid for in full. Monies that remains outstanding by the due date will incur late payment interest at the rate of 2% above the prevailing Bank of England's base rate on the outstanding balance until such time as the balance is paid in full and final settlement. We reserve the right to seek recovery of any monies remaining unpaid sixty days from the date of invoice via collection Agencies and/or through the Small Claims Court in the event that the outstanding balance does not exceed 3000. In such circumstances, you shall be liable for any and all additional administrative and/or court costs. [Amend as appropriate] \r\n                </p>\r\n                <p>\r\n                Returned cheques will incur a 25 charge to cover banking fees and administrative costs. In an instance of a second Returned cheque, we reserve the right to terminate the arrangement and, if agreed to, we shall insist on future cash transactions only. Consequently, all bookings and/or transactions and agreements entered into will cease with immediate effect until such time as any and all outstanding monies are recovered in full.   \r\n                </p>\r\n                <h3>\r\n                Cancellation Policy\r\n                </h3>\r\n                <p>\r\n                Minimum 24 hours notice of cancellation required. Notification for instance, in person, via email, mobile phone text message and/or fax, or any other means will be accepted subject to confirmation in writing. We reserve the right to levy a 30 charge to cover any subsequent administrative expenses.\r\n                </p>\r\n                <h3>\r\n                Termination of Agreements and Refunds Policy\r\n                </h3>\r\n                <p>\r\n                Both the Client and ourselves have the right to terminate any Services Agreement for any reason, including the ending of services that are already underway. No refunds shall be offered, where a Service is deemed to have begun and is, for all intents and purposes, underway. Any monies that have been paid to us which constitute payment in respect of the provision of unused Services, shall be refunded.\r\n                </p>\r\n                <h3>\r\n                Availability\r\n                </h3> \r\n                <p>\r\n                Unless otherwise stated, the services featured on this website are only available within the United Kingdom, or in relation to postings from the United Kingdom. All advertising is intended solely for the United Kingdom market. You are solely responsible for evaluating the fitness for a particular purpose of any downloads, programs and text available through this site. Redistribution or republication of any part of this site or its content is prohibited, including such by framing or other similar or any other means, without the express written consent of the Company. The Company does not warrant that the service from this site will be uninterrupted, timely or error free, although it is provided to the best ability. By using this service you thereby indemnify this Company, its employees, agents and affiliates against any loss or damage, in whatever manner, howsoever caused.\r\n                </p>\r\n                <h3>\r\n                Log Files\r\n                </h3>\r\n                <p>\r\n                We use IP addresses to analyse trends, administer the site, track users movement, and gather broad demographic information for aggregate use. IP addresses are not linked to personally identifiable information. Additionally, for systems administration, detecting usage patterns and troubleshooting purposes, our web servers automatically log standard access information including browser type, access times/open mail, URL requested, and referral URL. This information is not shared with third parties and is used only within this Company on a need-to-know basis. Any individually identifiable information related to this data will never be used in any way different to that stated above without your explicit permission.\r\n                </p>\r\n                <h3>\r\n                Cookies\r\n                </h3>\r\n                <p>\r\n                Like most interactive web sites this Companys website [or ISP] uses cookies to enable us to retrieve user details for each visit. Cookies are used in some areas of our site to enable the functionality of this area and ease of use for those people visiting. Some of our affiliate partners may also use cookies. [If you do not use cookies, delete this clause]\r\n                </p>\r\n                <h3>\r\n                Links to this website\r\n                </h3>\r\n                <p>   \r\n                You may not create a link to any page of this website without our prior written consent. If you do create a link to a page of this website you do so at your own risk and the exclusions and limitations set out above will apply to your use of this website by linking to it.\r\n                </p> \r\n                <h3>\r\n                Links from this website\r\n                </h3> \r\n                <p>\r\n                We do not monitor or review the content of other partys websites which are linked to from this website. Opinions expressed or material appearing on such websites are not necessarily shared or endorsed by us and should not be regarded as the publisher of such opinions or material. Please be aware that we are not responsible for the privacy practices, or content, of these sites. We encourage our users to be aware when they leave our site & to read the privacy statements of these sites. You should evaluate the security and trustworthiness of any other site connected to this site or accessed through this site yourself, before disclosing any personal information to them. This Company will not accept any responsibility for any loss or damage in whatever manner, howsoever caused, resulting from your disclosure to third parties of personal information.\r\n                </p>\r\n                <h3>\r\n                Copyright Notice\r\n                </h3>\r\n                <p>\r\n                Copyright and other relevant intellectual property rights exists on all text relating to the Companys services and the full content of this website. \r\n                </p>\r\n                <p>\r\n                This Companys logo is a registered trademark of this Company in the United Kingdom and other countries. The brand names and specific services of this Company featured on this web site are trade marked [delete this paragraphed clause if no registered trademark exists]. \r\n                </p>\r\n                <h3>\r\n                Communication\r\n                </h3>\r\n                <p>\r\n                We have several different e-mail addresses for different queries. These, & other contact information, can be found on our Contact Us link on our website or via Company literature or via the Companys stated telephone, facsimile or mobile telephone numbers.\r\n                </p>\r\n                <p>\r\n                This company is registered in England and Wales, Number 11111111, registered office 123 Any Street, Anytown AB2 3CD.  [Only need to state this if Limited Company, otherwise proprietors/partners home/trading address must be shown, without use of the term: registered]\r\n                </p>\r\n                <h3>\r\n                Force Majeure\r\n                </h3>\r\n                <p>\r\n                Neither party shall be liable to the other for any failure to perform any obligation under any Agreement which is due to an event beyond the control of such party including but not limited to any Act of God, terrorism, war, Political insurgence, insurrection, riot, civil unrest, act of civil or military authority, uprising, earthquake, flood or any other natural or man made eventuality outside of our control, which causes the termination of an agreement or contract entered into, nor which could have been reasonably foreseen. Any Party affected by such event shall forthwith inform the other Party of the same and shall use all reasonable endeavours to comply with the terms and conditions of any Agreement contained herein.\r\n                </p>\r\n                <h3>\r\n                Waiver\r\n                </h3>\r\n                <p>\r\n                Failure of either Party to insist upon strict performance of any provision of this or any Agreement or the failure of either Party to exercise any right or remedy to which it, he or they are entitled hereunder shall not constitute a waiver thereof and shall not cause a diminution of the obligations under this or any Agreement. No waiver of any of the provisions of this or any Agreement shall be effective unless it is expressly stated to be such and signed by both Parties.\r\n                </p>\r\n                <h3>\r\n                General\r\n                </h3>\r\n                <p>\r\n                The laws of England and Wales govern these terms and conditions. By accessing this website [and using our services/buying our products] you consent to these terms and conditions and to the exclusive jurisdiction of the English courts in all disputes arising out of such access. If any of these terms are deemed invalid or unenforceable for any reason (including, but not limited to the exclusions and limitations set out above), then the invalid or unenforceable provision will be severed from these terms and the remaining terms will continue to apply. Failure of the Company to enforce any of the provisions set out in these Terms and Conditions and any Agreement, or failure to exercise any option to terminate, shall not be construed as waiver of such provisions and shall not affect the validity of these Terms and Conditions or of any Agreement or any part thereof, or the right thereafter to enforce each and every provision. These Terms and Conditions shall not be amended, modified, varied or supplemented except in writing and signed by duly authorised representatives of the Company.\r\n                </p>\r\n                <h3>\r\n                Notification of Changes\r\n                </h3>\r\n                <p>\r\n                The Company reserves the right to change these conditions from time to time as it sees fit and your continued use of the site will signify your acceptance of any adjustment to these terms. If there are any changes to our privacy policy, we will announce that these changes have been made on our home page and on other key pages on our site. If there are any changes in how we use our site customers Personally Identifiable Information, notification by e-mail or postal mail will be made to those affected by this change. Any changes to our privacy policy will be posted on our web site 30 days prior to these changes taking place. You are therefore advised to re-read this statement on a regular basis\r\n                </p>\r\n                <p>\r\n                These terms and conditions form part of the Agreement between the Client and ourselves. Your accessing of this website and/or undertaking of a booking or Agreement indicates your understanding, agreement to and acceptance, of the Disclaimer Notice and the full Terms and Conditions contained herein. Your statutory Consumer Rights are unaffected.    \r\n                </p>\r\n                <p><em> Desert Shore 2020 All Rights Reserved</em></p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TOS;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"../../css/notFound.css\";\r\n\r\nconst NotFound = () => {\r\n\r\n    window.scrollTo(0,0);\r\n\r\n    return (\r\n        <div className=\"not-found\">\r\n            <div className=\"container\">\r\n                <h1>Our apologies, but we could not find that page.</h1>\r\n                <Link to=\"/\">Back to Shopping</Link>    \r\n            </div> \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotFound;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport \"../../css/admin-nav.css\";\r\n\r\nconst AdminLinks = () => {\r\n\r\n    return (\r\n        <div className=\"admin-links\">\r\n            <ul>\r\n                <li><Link to=\"/cms\">CMS Home</Link></li>\r\n                <li><Link to=\"/cms/products\">Products</Link></li>\r\n            </ul>\r\n        </div>    \r\n    )\r\n    \r\n}\r\n\r\nexport default AdminLinks;","import React, { useEffect, useContext } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\n\r\nimport AdminLinks from \"./AdminLinks\";\r\n\r\nimport \"../../css/adminHome.css\";\r\n\r\nconst AdminHome = (props) => {\r\n\r\n    //auth context for guarding the route\r\n    const { authenticated, checkAuth } = useContext(AuthContext);\r\n\r\n    //redirect to my-account on register, or if already logged in\r\n    const validateOnMount = async () => {\r\n        if(!authenticated) {\r\n            props.history.push(\"/account/login\");\r\n        }\r\n        const validated = await checkAuth();\r\n        if(!validated) {\r\n            props.history.push(\"/account/login\");\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        validateOnMount();\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"admin-home\">\r\n            <div className=\"container\">\r\n                <header className=\"admin-header\">\r\n                    <Link to=\"/\">\r\n                        <img src=\"/assets/company/logo.svg\" alt=\"logo\" />\r\n                    </Link>\r\n                    <p>Content Management</p>\r\n                </header>\r\n                <AdminLinks />\r\n\r\n                <div className=\"information\">\r\n                    <h1>Welcome</h1>\r\n                    <h2>UNDER CONSTRUCTION</h2>\r\n                    <p>\r\n                        This section is under construction. At present, you may manage products by clicking on the prodcuts link.\r\n                        That page will allow you to add a new product, as well as view and edit existing products. \r\n                    </p>\r\n                    <p>\r\n                        For the best possible experience, it is advised that you test this section on a desktop.\r\n                    </p>\r\n                    <img src=\"/assets/company/under-construction.jpg\" alt=\"under-construction\" />\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(AdminHome);","import React, { createContext, useState, useEffect } from \"react\";\r\n\r\nexport const ProductCategoryContext = createContext();\r\n\r\nconst ProductCategoryContextProvider = (props) => {\r\n\r\n    const [ productCategories, setProductCategories ] = useState(null);\r\n\r\n    const fetchProductCategories = async () => {\r\n        const response = await fetch(\"/api/products/subcategories\");\r\n        const data = await response.json(); \r\n        setProductCategories(data);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(!productCategories) {\r\n            fetchProductCategories();\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <ProductCategoryContext.Provider value={{productCategories}}>\r\n            { props.children }\r\n        </ProductCategoryContext.Provider>\r\n    )\r\n};\r\n\r\nexport default ProductCategoryContextProvider;","import React, { createContext, useState, useEffect } from \"react\";\r\n\r\nexport const ProductSizesContext = createContext();\r\n\r\nconst ProductSizesContextProvider = (props) => {\r\n\r\n    const [ productSizes, setProductSizes ] = useState(null);\r\n\r\n    const fetchProductSizes = async () => {\r\n        const response = await fetch(\"/api/products/sizes\");\r\n        const data = await response.json(); \r\n        setProductSizes(data);\r\n    }\r\n\r\n    useEffect(() => {\r\n        if(!productSizes) {\r\n            fetchProductSizes();\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <ProductSizesContext.Provider value={{productSizes}}>\r\n            { props.children }\r\n        </ProductSizesContext.Provider>\r\n    )\r\n};\r\n\r\nexport default ProductSizesContextProvider;","import React, { useState, useContext } from \"react\";\r\nimport { ProductSizesContext } from \"../../contexts/ProductSizesContext\";\r\n\r\nimport \"../../css/prod-size-picker.css\";\r\n\r\n//this component should take 3 props:\r\n//1) activeSizes - an array of sizes (size-numbers which should be the data-id value)\r\n//2) addSize - a function that adds a size to the parent's size state\r\n//2) removeSize - a function that removes a size to the parent's size state\r\n\r\nconst ProductSizePicker = (props) => {\r\n\r\n    const [ activeSizes, setActiveSizes ] = useState(props.activeSizes || []);\r\n\r\n    const { productSizes } = useContext(ProductSizesContext);\r\n\r\n    const handleSelection = (e) => {\r\n        e.target.classList.toggle(\"selected\");\r\n        const newSize = e.target.getAttribute(\"data-id\");\r\n\r\n        if(e.target.classList.contains(\"selected\")) {\r\n            props.addSize(newSize);\r\n        }\r\n        else {\r\n            props.removeSize(newSize);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"product-size-picker\">\r\n            {activeSizes ? (\r\n                \r\n                <ul className=\"sizes-container\">\r\n                    { productSizes ? (\r\n                        productSizes.map(size => {\r\n                            let active = props.activeSizes.includes(size.size_number);\r\n\r\n                            return(\r\n                                <li className={`size-item ${active ? \"selected\":\"\"}`} key={size.size_number} data-id={size.size_number}\r\n                                onClick={handleSelection}>\r\n                                    {size.size_value}                 \r\n                                </li>\r\n                            )\r\n                        })\r\n                    ) : (\"\")}\r\n                </ul>\r\n\r\n            ): (\"Just a moment...\")}\r\n            \r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default ProductSizePicker;","import React, { useState, useContext } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { v4 as uuidv4 } from \"uuid\"; \r\n\r\nimport { ProductCategoryContext } from \"../../contexts/ProductCategoryContext\";\r\n\r\nimport ProductSizePicker from \"./ProductSizePicker\";\r\n\r\nimport \"../../css/add-prod-modal.css\";\r\n\r\n//Takes 2 props:\r\n// 1.) setAddProdToggled() to close out of this modal when x button is clicked\r\n// 3.) refreshParent() = to update the product list in parent (prodcuts page)\r\n\r\nconst AddProductModal = (props) => {\r\n\r\n    const { register, handleSubmit, reset } = useForm();\r\n\r\n    const charLimits = {\r\n        productName: 75,\r\n        description: 200,\r\n        detail1: 100,\r\n        detail2: 100,\r\n        detail3: 100\r\n    };\r\n    const [charCounts, setCharCounts] = useState({\r\n        productName: 75,\r\n        description: 200,\r\n        detail1: 100,\r\n        detail2: 100,\r\n        detail3: 100\r\n    });\r\n\r\n    const [productPhotos, setProductPhotos] = useState([]);\r\n\r\n    const priceLimit = 99999.99;\r\n\r\n    const [sizes, setSizes] = useState([]);\r\n\r\n    const [activeGender, setActiveGender] = useState(0);\r\n    const { productCategories } = useContext(ProductCategoryContext);\r\n\r\n    const [errors, setErrors] = useState([]);\r\n\r\n    //make the post request, handle success or error\r\n    const postProductData = async (formData) => {\r\n        const response = await fetch(\"/uploads/product\", {\r\n                                method: \"POST\",\r\n                                body: formData\r\n                            });\r\n        const data = await response.json();\r\n\r\n        if(response.status === 200) {\r\n            setErrors([...errors, data.message]);\r\n            reset();\r\n            resetCharCounts();\r\n            props.refreshParent();\r\n        }\r\n        else {\r\n            setErrors([...errors, data.errors]);\r\n        }\r\n    }\r\n\r\n    //form submit handler\r\n    const onSubmit = (data, e) => {\r\n        e.preventDefault();\r\n        \r\n        let images = [];\r\n        for(let i = 0; i < productPhotos.length; i++) {\r\n            images.push(productPhotos[i].file);\r\n        }\r\n\r\n        const formData = new FormData();\r\n        formData.append(\"productName\", data.productName);\r\n        formData.append(\"description\", data.description);\r\n        formData.append(\"detail1\", data.detail1);\r\n        formData.append(\"detail2\", data.detail2);\r\n        formData.append(\"detail3\", data.detail3);\r\n        formData.append(\"price\", data.price);\r\n        formData.append(\"gender\", data.gender);\r\n        formData.append(\"category\", data.category);\r\n        formData.append(\"sizes\", JSON.stringify({sizes: [...sizes]}));\r\n        for(let i = 0; i < images.length; i++) {\r\n            formData.append(\"files\", images[i]);\r\n        }\r\n\r\n        window.scrollTo(0,0);\r\n        postProductData(formData);\r\n    };\r\n\r\n    //addSize - adds a size to the size list\r\n    const addSize = (inSize) => {\r\n        if(!sizes.find(size => size === inSize)) {\r\n            setSizes([...sizes, inSize]);\r\n        }\r\n    };\r\n\r\n    //removeSize - removes a size from the size list\r\n    const removeSize = (outSize) => {\r\n        if(sizes.find(size => size === outSize)) {\r\n            const newList = sizes.filter(size => size !== outSize);\r\n            setSizes([...newList]);\r\n        }\r\n    }; \r\n\r\n    //handler for enforcing character limits\r\n    const handleCharLimits = (e) => {\r\n        setCharCounts({...charCounts, [e.target.name]: charLimits[e.target.name]});\r\n        let charCount = charLimits[e.target.name] - e.target.value.length;\r\n        if(charCount < 0) {\r\n            e.target.value = e.target.value.slice(0, charLimits[e.target.name]);\r\n            charCount = 0;\r\n        }\r\n\r\n        setCharCounts({...charCounts, [e.target.name]: charCount});\r\n    };\r\n\r\n    //reset character counts\r\n    const resetCharCounts = () => {\r\n        setCharCounts({...charCounts, productName: charLimits[\"productName\"]});\r\n        setCharCounts({...charCounts, description: charLimits[\"description\"]});\r\n        setCharCounts({...charCounts, detail1: charLimits[\"detail1\"]});\r\n        setCharCounts({...charCounts, detail2: charLimits[\"detail2\"]});\r\n        setCharCounts({...charCounts, detail3: charLimits[\"detail3\"]});\r\n    }\r\n\r\n    //handler for enforncing price limit\r\n    const handlePrice = (e) => {\r\n        if(e.target.value > priceLimit) {\r\n            e.target.value = priceLimit;\r\n        }\r\n        else if(e.target.value < 0) {\r\n            e.target.value = 0;\r\n        }\r\n    }\r\n\r\n    //handler for gender option (used to populate category dropdown)\r\n    const handleGender = (e) => {\r\n        setActiveGender(e.target.value);\r\n    }\r\n\r\n    //handler for displaying image previews\r\n    const handleImageUploads = (e) => {\r\n        setProductPhotos(productPhotos.length = 0);\r\n        let files = e.target.files;\r\n        let images = [];\r\n\r\n        for(let i = 0; i < files.length; i++) {\r\n            images.push({ file: files[i], url: URL.createObjectURL(files[i]) })\r\n        }\r\n        \r\n        setProductPhotos([...productPhotos, ...images]);\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"add-product-modal\">\r\n            <div className=\"container\">\r\n            \r\n                {/* Menu Header */}\r\n                <div className=\"menu-header\">\r\n                    <div className=\"menu-header-title\">\r\n                        <span>Add Product</span>\r\n                    </div>\r\n                    <div className=\"menu-header-close\">\r\n                        <button onClick={() => props.setAddProdToggled(false)} \r\n                            ><img src=\"/assets/icons/x-icon.svg\" alt=\"close-menu\"/></button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Messages */}\r\n                { errors.length > 0 && \r\n                    <div className=\"error-messages\">\r\n                        <ul>\r\n                            {errors.length > 0 ? (\r\n                                errors.map(error => {\r\n                                    return (\r\n                                        <li key={uuidv4()}>{error}</li>\r\n                                    )\r\n                                })\r\n                                \r\n                            ) : (\"\")}\r\n                        </ul>\r\n                    </div>\r\n                }\r\n\r\n                <div className=\"main-content\">              \r\n                    {/* Product form, submit a new product */}\r\n                    <form onSubmit={handleSubmit(onSubmit)}>\r\n\r\n                        <div className=\"product-name\">\r\n                            <h3>Product Name</h3>\r\n\r\n                            <input type=\"text\" name=\"productName\" placeholder=\"Product Name\" \r\n                                onChange={handleCharLimits} required\r\n                                ref={register} \r\n                            />\r\n                            <span className=\"char-limit-msg\">\r\n                                {`${charCounts.productName} characters remaining`}\r\n                            </span>    \r\n                        </div>\r\n                        \r\n                        <div className=\"product-description\">\r\n                            <h3>Description</h3>\r\n\r\n                            <textarea name=\"description\" onChange={handleCharLimits} \r\n                                placeholder=\"Product description\" required\r\n                                ref={register} \r\n                            />\r\n                            <span className=\"char-limit-msg\">\r\n                                {`${charCounts.description} characters remaining`}\r\n                            </span>    \r\n                        </div>\r\n                        \r\n                        <div className=\"product-details\">\r\n                            <h3>Product Details</h3>\r\n\r\n                            <textarea name=\"detail1\" onChange={handleCharLimits} \r\n                                placeholder=\"Bullet point 1\" required\r\n                                ref={register} \r\n                            />\r\n                            <span className=\"char-limit-msg\">\r\n                                {`${charCounts.detail1} characters remaining`}\r\n                            </span>\r\n\r\n                            <textarea name=\"detail2\" onChange={handleCharLimits} \r\n                                placeholder=\"Bullet point 2\" required\r\n                                ref={register} \r\n                            />\r\n                            <span className=\"char-limit-msg\">\r\n                                {`${charCounts.detail2} characters remaining`}\r\n                            </span>\r\n\r\n                            <textarea name=\"detail3\" onChange={handleCharLimits} \r\n                                placeholder=\"Bullet point 3\" required\r\n                                ref={register} \r\n                            />\r\n                            <span className=\"char-limit-msg\">\r\n                                {`${charCounts.detail3} characters remaining`}\r\n                            </span>    \r\n                        </div>\r\n\r\n                        \r\n                        <div className=\"product-price\">\r\n                            <h3>Price</h3>\r\n\r\n                            <input type=\"number\" name=\"price\" step=\"0.01\" min=\"0\" \r\n                                max=\"99999.99\" placeholder=\"Enter a price ($)\" required\r\n                                onChange={handlePrice} \r\n                                ref={register}\r\n                            />    \r\n                        </div>\r\n                        \r\n                        <div className=\"product-gender\">\r\n                            <h3>Gender</h3>\r\n\r\n                            <div className=\"radio-group\">\r\n                                <input type=\"radio\" id=\"woman\" value=\"0\" \r\n                                    name=\"gender\" defaultChecked required \r\n                                    ref={register}\r\n                                    onChange={handleGender}\r\n                                />\r\n                                <label htmlFor=\"woman\">Woman</label>   \r\n                            </div>\r\n\r\n                            <div className=\"radio-group\">\r\n                                <input type=\"radio\" id=\"man\" value=\"1\" \r\n                                    name=\"gender\" required \r\n                                    ref={register}\r\n                                    onChange={handleGender}\r\n                                />\r\n                                <label htmlFor=\"man\">Man</label>\r\n                            </div>    \r\n                        </div>\r\n\r\n                        <div className=\"product-category\">\r\n                            <h3>Category</h3>\r\n\r\n                            <select name=\"category\" className=\"categories\"\r\n                                required ref={register}\r\n                            >\r\n                                {productCategories ? (productCategories[activeGender].subcategories.map(category => {\r\n                                    return (\r\n                                       <option value={category.id} key={category.id}>\r\n                                            {category.subcategory}\r\n                                       </option> \r\n                                    )\r\n                                })) : (\"\")}\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div className=\"product-sizes\">\r\n                            <h3>Sizes</h3>\r\n                            <span>Select any sizes that apply. You may ignore this field if the product doesn't require sizes.</span>\r\n\r\n                            <ProductSizePicker \r\n                                activeSizes={sizes}\r\n                                addSize={addSize}\r\n                                removeSize={removeSize}\r\n                            />\r\n                        </div>\r\n                        \r\n                        <div className=\"product-images\">\r\n                            <h3>Upload Images</h3>\r\n                            <span>\r\n                                Images must be in .jpg format and may not exceed 1.5MB per image. Otherwise, \r\n                                they will not be saved.\r\n                            </span>\r\n\r\n                            <input type=\"file\" id=\"files\" name=\"images\" \r\n                                accept=\"image/png,image/jpeg\" multiple required \r\n                                onChange={handleImageUploads}\r\n                            />    \r\n                        </div>\r\n\r\n                        <div className=\"goodlookinout\">\r\n                            <p><b>Please note that since heroku does not persist static files, products you add will be deleted when the heroku dyno goes to sleep.</b></p>\r\n                        </div>\r\n\r\n                        <input type=\"submit\" value=\"Submit Product\" />\r\n                    </form>\r\n\r\n                    {/* Preview product images */}\r\n                    <div className=\"img-preview\">\r\n                        {productPhotos.length > 0 ? (\r\n                            productPhotos.map(photo => {\r\n                                return (\r\n                                    <img src={photo.url} alt=\"preview\" key={uuidv4()} />\r\n                                )\r\n                            })\r\n                        ) : (\"\")}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default AddProductModal;","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { v4 as uuidv4 } from \"uuid\"; \r\n\r\nimport { ProductCategoryContext } from \"../../contexts/ProductCategoryContext\";\r\n\r\nimport ProductSizePicker from \"./ProductSizePicker\";\r\n\r\nimport \"../../css/editProdModal.css\";\r\n\r\n// This form component takes 3 props:\r\n// 1.) setEditProdToggled - parent state function to toggle the visibility of this modal (when x button is clicked)\r\n// 2.) productId - the product id of the modified product\r\n// 3.) refreshParent() = to update the product list in parent (prodcuts page)\r\n\r\nconst EditProductModal = (props) => {\r\n    \r\n    //moved sizes prop up since it's used on mount\r\n    const [sizes, setSizes] = useState([]);\r\n\r\n    //fetching the product\r\n    const [ product, setProduct ] = useState(null);\r\n\r\n    const fetchProduct = async (productNumber) => {\r\n        const response = await fetch(`/api/products/product/${productNumber}`);\r\n        const data = await response.json();\r\n        if(response.status === 200) {\r\n            setProduct(data);\r\n\r\n            let sizeValues = [];\r\n            data.sizes.forEach(size => {\r\n                sizeValues.push(size.size_number);\r\n            })\r\n            setSizes([...sizeValues]);\r\n        }\r\n    }\r\n    \r\n    useEffect(() => {\r\n        if(props.productId) {\r\n            fetchProduct(props.productId);\r\n        }\r\n        \r\n    }, []);\r\n\r\n\r\n    //form-related properties, functions, handlers\r\n    const { register, handleSubmit, reset } = useForm();\r\n\r\n    const charLimits = {\r\n        productName: 75,\r\n        description: 200,\r\n        detail1: 100,\r\n        detail2: 100,\r\n        detail3: 100\r\n    };\r\n    const [charCounts, setCharCounts] = useState({\r\n        productName: 75,\r\n        description: 200,\r\n        detail1: 100,\r\n        detail2: 100,\r\n        detail3: 100\r\n    });\r\n\r\n    const [productPhotos, setProductPhotos] = useState([]);\r\n\r\n    const [markedImages, setMarkedImages] = useState([]);\r\n\r\n    const priceLimit = 99999.99;\r\n\r\n    \r\n\r\n    const [activeGender, setActiveGender] = useState(0);\r\n    const { productCategories } = useContext(ProductCategoryContext);\r\n\r\n    const [errors, setErrors] = useState([]);\r\n\r\n    //make the post request, handle success or error\r\n    const postProductData = async (formData) => {\r\n        const response = await fetch(\"/uploads/product\", {\r\n                                method: \"PUT\",\r\n                                body: formData\r\n                            });\r\n        const data = await response.json();\r\n\r\n        if(response.status === 200) {\r\n            setErrors([...errors, data.message]);\r\n            reset();\r\n            resetCharCounts();\r\n            props.refreshParent();\r\n        }\r\n        else {\r\n            setErrors([...errors, data.errors]);\r\n        }\r\n    }\r\n\r\n    //form submit handler\r\n    const onSubmit = (data, e) => {\r\n        e.preventDefault();\r\n        \r\n        let images = [];\r\n        for(let i = 0; i < productPhotos.length; i++) {\r\n            images.push(productPhotos[i].file);\r\n        }\r\n\r\n        const formData = new FormData();\r\n        formData.append(\"productName\", data.productName);\r\n        formData.append(\"productCode\", props.productId);\r\n        formData.append(\"description\", data.description);\r\n        formData.append(\"detail1\", data.detail1);\r\n        formData.append(\"detail2\", data.detail2);\r\n        formData.append(\"detail3\", data.detail3);\r\n        formData.append(\"price\", data.price);\r\n        formData.append(\"gender\", data.gender);\r\n        formData.append(\"category\", data.category);\r\n        formData.append(\"sizes\", JSON.stringify({sizes: [...sizes]}));\r\n        formData.append(\"markedImages\", JSON.stringify({markedImages: [...markedImages]}));\r\n        for(let i = 0; i < images.length; i++) {\r\n            formData.append(\"files\", images[i]);\r\n        }\r\n        window.scrollTo(0,0);\r\n        postProductData(formData);\r\n    };\r\n\r\n    //addSize - adds a size to the size list\r\n    const addSize = (inSize) => {\r\n        if(!sizes.find(size => size === inSize)) {\r\n            setSizes([...sizes, inSize]);\r\n        }\r\n    };\r\n\r\n    //removeSize - removes a size from the size list\r\n    const removeSize = (outSize) => {\r\n        if(sizes.find(size => size === outSize)) {\r\n            const newList = sizes.filter(size => size !== outSize);\r\n            setSizes([...newList]);\r\n        }\r\n    }; \r\n\r\n    //handler for enforcing character limits\r\n    const handleCharLimits = (e) => {\r\n        setCharCounts({...charCounts, [e.target.name]: charLimits[e.target.name]});\r\n        let charCount = charLimits[e.target.name] - e.target.value.length;\r\n        if(charCount < 0) {\r\n            e.target.value = e.target.value.slice(0, charLimits[e.target.name]);\r\n            charCount = 0;\r\n        }\r\n\r\n        setCharCounts({...charCounts, [e.target.name]: charCount});\r\n    };\r\n\r\n    //reset character counts\r\n    const resetCharCounts = () => {\r\n        setCharCounts({...charCounts, productName: charLimits[\"productName\"]});\r\n        setCharCounts({...charCounts, description: charLimits[\"description\"]});\r\n        setCharCounts({...charCounts, detail1: charLimits[\"detail1\"]});\r\n        setCharCounts({...charCounts, detail2: charLimits[\"detail2\"]});\r\n        setCharCounts({...charCounts, detail3: charLimits[\"detail3\"]});\r\n    }\r\n\r\n    //handler for enforncing price limit\r\n    const handlePrice = (e) => {\r\n        if(e.target.value > priceLimit) {\r\n            e.target.value = priceLimit;\r\n        }\r\n        else if(e.target.value < 0) {\r\n            e.target.value = 0;\r\n        }\r\n    }\r\n\r\n    //handler for gender option (used to populate category dropdown)\r\n    const handleGender = (e) => {\r\n        setActiveGender(e.target.value);\r\n    }\r\n\r\n    //handler for displaying image previews\r\n    const handleImageUploads = (e) => {\r\n        setProductPhotos(productPhotos.length = 0);\r\n        let files = e.target.files;\r\n        let images = [];\r\n\r\n        for(let i = 0; i < files.length; i++) {\r\n            images.push({ file: files[i], url: URL.createObjectURL(files[i]) })\r\n        }\r\n        \r\n        setProductPhotos([...productPhotos, ...images]);\r\n    }\r\n\r\n    //handler for marking images for deleting\r\n    const markImage = (e) => {\r\n        let images = markedImages;\r\n        e.target.parentNode.classList.toggle(\"marked\");\r\n        if(images.includes(e.target.getAttribute(\"data-id\"))) {\r\n            images = images.filter(image => image !== e.target.getAttribute(\"data-id\"));\r\n        }\r\n        else {\r\n            images = [...images, e.target.getAttribute(\"data-id\")];\r\n        }\r\n\r\n        setMarkedImages([...images]);\r\n    };\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"edit-product-modal\">\r\n            <div className=\"container\">\r\n            \r\n                {/* Menu Header */}\r\n                <div className=\"menu-header\">\r\n                    <div className=\"menu-header-title\">\r\n                        <span>Edit Product</span>\r\n                    </div>\r\n                    <div className=\"menu-header-close\">\r\n                        <button onClick={() => props.setEditProdToggled(false)} \r\n                            ><img src=\"/assets/icons/x-icon.svg\" alt=\"close-menu\"/></button>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Messages */}\r\n                { errors.length > 0 && \r\n                    <div className=\"error-messages\">\r\n                        <ul>\r\n                            {errors.length > 0 ? (\r\n                                errors.map(error => {\r\n                                    return (\r\n                                        <li key={uuidv4()}>{error}</li>\r\n                                    )\r\n                                })\r\n                                \r\n                            ) : (\"\")}\r\n                        </ul>\r\n                    </div>\r\n                }\r\n\r\n                {product ? (\r\n                <div className=\"main-content\">              \r\n                    {/* Product form, submit a new product */}\r\n                    <form onSubmit={handleSubmit(onSubmit)}>\r\n\r\n                        <div className=\"product-name\">\r\n                            <h3>Product Name</h3>\r\n\r\n                            <input type=\"text\" name=\"productName\" placeholder=\"Product Name\" \r\n                                onChange={handleCharLimits} defaultValue={product.name} required\r\n                                ref={register} \r\n                            />\r\n                            <span className=\"char-limit-msg\">\r\n                                {`${charCounts.productName} characters remaining`}\r\n                            </span>    \r\n                        </div>\r\n                        \r\n                        <div className=\"product-description\">\r\n                            <h3>Description</h3>\r\n\r\n                            <textarea name=\"description\" onChange={handleCharLimits} \r\n                                placeholder=\"Product description\" defaultValue={product.description} required\r\n                                ref={register} \r\n                            />\r\n                            <span className=\"char-limit-msg\">\r\n                                {`${charCounts.description} characters remaining`}\r\n                            </span>    \r\n                        </div>\r\n                        \r\n                        <div className=\"product-details\">\r\n                            <h3>Product Details</h3>\r\n\r\n                            <textarea name=\"detail1\" onChange={handleCharLimits} \r\n                                placeholder=\"Bullet point 1\" defaultValue={product.details[0].detail_info} required\r\n                                ref={register} \r\n                            />\r\n                            <span className=\"char-limit-msg\">\r\n                                {`${charCounts.detail1} characters remaining`}\r\n                            </span>\r\n\r\n                            <textarea name=\"detail2\" onChange={handleCharLimits} \r\n                                placeholder=\"Bullet point 2\" defaultValue={product.details[1].detail_info} required\r\n                                ref={register} \r\n                            />\r\n                            <span className=\"char-limit-msg\">\r\n                                {`${charCounts.detail2} characters remaining`}\r\n                            </span>\r\n\r\n                            <textarea name=\"detail3\" onChange={handleCharLimits} \r\n                                placeholder=\"Bullet point 3\" defaultValue={product.details[2].detail_info} required\r\n                                ref={register} \r\n                            />\r\n                            <span className=\"char-limit-msg\">\r\n                                {`${charCounts.detail3} characters remaining`}\r\n                            </span>    \r\n                        </div>\r\n\r\n                        \r\n                        <div className=\"product-price\">\r\n                            <h3>Price</h3>\r\n\r\n                            <input type=\"number\" name=\"price\" step=\"0.01\" min=\"0\" \r\n                                max=\"99999.99\" placeholder=\"Enter a price ($)\" defaultValue={product.price} required\r\n                                onChange={handlePrice} \r\n                                ref={register}\r\n                            />    \r\n                        </div>\r\n                        \r\n                        <div className=\"product-gender\">\r\n                            <h3>Gender</h3>\r\n\r\n                            <div className=\"radio-group\">\r\n                                <input type=\"radio\" id=\"woman\" value=\"0\" \r\n                                    name=\"gender\" defaultChecked required \r\n                                    ref={register}\r\n                                    onChange={handleGender}\r\n                                />\r\n                                <label htmlFor=\"woman\">Woman</label>   \r\n                            </div>\r\n\r\n                            <div className=\"radio-group\">\r\n                                <input type=\"radio\" id=\"man\" value=\"1\" \r\n                                    name=\"gender\" required \r\n                                    ref={register}\r\n                                    onChange={handleGender}\r\n                                />\r\n                                <label htmlFor=\"man\">Man</label>\r\n                            </div>    \r\n                        </div>\r\n\r\n                        <div className=\"product-category\">\r\n                            <h3>Category</h3>\r\n\r\n                            <select name=\"category\" className=\"categories\"\r\n                                required ref={register}\r\n                            >\r\n                                {productCategories ? (productCategories[activeGender].subcategories.map(category => {\r\n                                    return (\r\n                                       <option value={category.id} key={category.id}>\r\n                                            {category.subcategory}\r\n                                       </option> \r\n                                    )\r\n                                })) : (\"\")}\r\n                            </select>\r\n                        </div>\r\n\r\n                        <div className=\"product-sizes\">\r\n                            <h3>Sizes</h3>\r\n                            <span>Select any sizes that apply. You may ignore this field if the product doesn't require sizes.</span>\r\n\r\n                            <ProductSizePicker \r\n                                activeSizes={sizes}\r\n                                addSize={addSize}\r\n                                removeSize={removeSize}\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"delete-images\">\r\n                            <h3>Delete Existing Images</h3>\r\n                            <span>Click on any image that you wish to mark for deletion. To undo, click on it again.</span>\r\n\r\n                            <div className=\"delete-img-grid\">\r\n                                {product.images.map(img => {\r\n                                    let imgUrl = img.image_url.replace(\"public\", \"\").trim();\r\n                                    let index = imgUrl.lastIndexOf(\".\");\r\n                                    imgUrl = imgUrl.substring(0, index)+\"_s\"+imgUrl.substring(index);\r\n\r\n                                    return (\r\n                                        <div className=\"deletable\" key={imgUrl}>\r\n                                            <img src={imgUrl} data-id={img.image_url} \r\n                                             onClick={markImage}\r\n                                            />    \r\n                                        </div>\r\n                                        \r\n                                    )\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <div className=\"product-images\">\r\n                            <h3>Upload Additional Images</h3>\r\n                            <span>\r\n                                Images must be in .jpg format and may not exceed 1.5MB per image. Otherwise, \r\n                                they will not be saved.\r\n                            </span>\r\n\r\n                            <input type=\"file\" id=\"files\" name=\"images\" \r\n                                accept=\"image/png,image/jpeg\" multiple \r\n                                onChange={handleImageUploads}\r\n                            />    \r\n                        </div>\r\n\r\n                        <div className=\"goodlookinout\">\r\n                            <p><b>Please make sure the sizes, gender, and category are correct before submitting.</b></p>\r\n                            <p>Also, since heroku does not persist static files, I have disabled the editing & removal of images on the back-end. Thank you for understanding.</p>\r\n                        </div>\r\n\r\n                        <input type=\"submit\" value=\"Update Product\" />\r\n                    </form>\r\n\r\n                    {/* Preview product images */}\r\n                    <div className=\"img-preview\">\r\n                        {productPhotos.length > 0 ? (\r\n                            productPhotos.map(photo => {\r\n                                return (\r\n                                    <img src={photo.url} alt=\"preview\" key={uuidv4()} />\r\n                                )\r\n                            })\r\n                        ) : (\"\")}\r\n                    </div>\r\n                </div>\r\n                ) : (<div>Just a moment...</div>)}\r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default EditProductModal;","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\n\r\nimport { AuthContext } from \"../../contexts/AuthContext\";\r\n\r\nimport AdminLinks from \"./AdminLinks\";\r\nimport AddProductModal from \"./AddProductModal\";\r\nimport EditProductModal from \"./EditProductModal\";\r\n\r\nimport Loading from \"../loading/loading\";\r\n\r\nimport \"../../css/adminProducts.css\";\r\n\r\nconst AdminProducts = (props) => {\r\n\r\n    const [ addProdToggled, setAddProdToggled ] = useState(false);\r\n    const [ editProdToggled, setEditProdToggled ] = useState(false);\r\n\r\n    const [ currentProduct, setCurrentProduct ] = useState(null);\r\n\r\n    const [ products, setProducts ] = useState(null);\r\n    const [ filtered, setFiltered ] = useState(null);\r\n\r\n    const fetchProducts = async () => {\r\n        const response = await fetch(\"/api/products/all-products\");\r\n        const data = await response.json();\r\n        if(response.status === 200) {\r\n            setProducts([...data]);\r\n            setFiltered([...data]);\r\n        }\r\n    }\r\n\r\n    //auth context for guarding the route\r\n    const { authenticated, checkAuth } = useContext(AuthContext);\r\n\r\n    //redirect to my-account on register, or if already logged in\r\n    const validateOnMount = async () => {\r\n        if(!authenticated) {\r\n            props.history.push(\"/account/login\");\r\n        }\r\n        const validated = await checkAuth();\r\n        if(!validated) {\r\n            props.history.push(\"/account/login\");\r\n        }\r\n        else {\r\n            if(!products) {\r\n                fetchProducts();\r\n            }    \r\n        }\r\n    };\r\n\r\n    //fetch products on mount\r\n    useEffect(() => {\r\n        validateOnMount();\r\n    }, []);\r\n\r\n\r\n    //handlers\r\n    const handleSearch = (e) => {\r\n        let newList = products;\r\n        newList = newList.filter(product => \r\n            product.name.toLowerCase().includes(e.target.value.toLowerCase()));\r\n        setFiltered([...newList]);\r\n    }\r\n\r\n    const handleEdit = (e) => {\r\n        let product = e.target.getAttribute(\"data-id\");\r\n        setEditProdToggled(true);\r\n        setCurrentProduct(product);\r\n    }\r\n\r\n    return (\r\n        <div className=\"admin-products\">\r\n            <div className=\"container\">\r\n                <header className=\"admin-header\">\r\n                    <Link to=\"/\">\r\n                        <img src=\"/assets/company/logo.svg\" alt=\"logo\" />\r\n                    </Link>\r\n                    <p>Content Management</p>\r\n                </header>\r\n\r\n                <AdminLinks />    \r\n\r\n\r\n                {products ? (<div>\r\n\r\n                <main className=\"products-menu\">\r\n                    \r\n                    <div className=\"filters\">\r\n                        <h1>Product Management</h1>\r\n\r\n                        <div className=\"filter-right\">\r\n                            <div className=\"search-filter\">\r\n                                <input type=\"text\" placeholder=\"Search for a product\" onChange={handleSearch}/>\r\n                            </div>\r\n\r\n                            <div className=\"add-product\">\r\n                                <button onClick={() => setAddProdToggled(true)}>Add New Product</button>    \r\n                            </div>    \r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"products-list-container\">\r\n                        <h2>Products</h2>\r\n                        <p>\r\n                            Note: This list only lists products that are editable. \r\n                            The original catalogue is not editable for demo purposes.<br/>\r\n                            <b>\r\n                            Also: Since heroku does not persist static files, products that you add will be deleted when the heroku dyno goes to sleep.\r\n                            </b>\r\n                        </p>\r\n                        \r\n                        {filtered && filtered.length > 0 ? (\r\n                            <ul className=\"products-list\">\r\n                                {filtered.map(product => {\r\n                                    let imgUrl = product.image.replace(\"public\", \"\").trim();\r\n                                    let index = imgUrl.lastIndexOf(\".\");\r\n                                    imgUrl = imgUrl.substring(0, index)+\"_s\"+imgUrl.substring(index);\r\n\r\n                                    return (\r\n                                        <li className=\"product-item\" key={product.itemId}>\r\n                                            <div className=\"thumbnail\">\r\n                                                <img src={imgUrl} alt=\"thumbnail\" />\r\n                                            </div>\r\n                                            <div className=\"name\">\r\n                                                <span>{product.name}</span>\r\n                                            </div>\r\n                                            <div className=\"edit-btn\">\r\n                                                <button data-id={product.itemId}\r\n                                                    onClick={handleEdit}>\r\n                                                Edit</button>\r\n                                            </div>\r\n                                        </li>\r\n                                    )\r\n                                })}\r\n                            </ul>\r\n                        ) : (\r\n                            <div className=\"no-products\">\r\n                                <p>\r\n                                    There are no editable products. To test this feature,\r\n                                    add a new product.\r\n                                </p>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </main>\r\n                \r\n                </div>) : (<Loading />)}\r\n\r\n            </div>\r\n            \r\n            {/* modals */}\r\n            {addProdToggled && <AddProductModal \r\n                refreshParent={fetchProducts}\r\n                setAddProdToggled={setAddProdToggled} />}\r\n            {editProdToggled && <EditProductModal\r\n                refreshParent={fetchProducts}\r\n                setEditProdToggled={setEditProdToggled}\r\n                productId={currentProduct}\r\n                />}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default withRouter(AdminProducts);","import React, { Component } from 'react';\nimport { BrowserRouter, Route, Redirect, Switch } from \"react-router-dom\";\n\nimport Navbar from \"./components/navbar/navbar\";\nimport Footer from \"./components/footer/footer\";\nimport Home from \"./components/homepage/home\";\nimport GenderLandingPage from \"./components/gender-landingpage/gender\";\nimport ProductGallery from \"./components/product-gallery/productGallery\";\nimport ProductPage from \"./components/product/productPage\";\nimport Login from \"./components/login/login\";\nimport Register from \"./components/register/register\";\nimport MyAccount from \"./components/account/myAccount\";\nimport ShoppingCart from \"./components/order/shoppingCart\";\nimport Checkout from \"./components/order/checkout\";\nimport TOS from \"./components/TOS/tos\";\nimport NotFound from './components/404/notFound';\n\nimport AdminHome from \"./components/CMS/AdminHome\";\nimport AdminProducts from \"./components/CMS/AdminProducts\";\n\nimport NavContextProvider from \"./contexts/NavContext\";\nimport ProductSizesContextProvider from \"./contexts/ProductSizesContext\";\nimport ProductCategoryContextProvider from \"./contexts/ProductCategoryContext\";\nimport AuthContextProvider from \"./contexts/AuthContext\";\nimport ShoppingCartProvider from './contexts/ShoppingCartContext';\n\nimport \"./css/App.css\";\n\n\nclass App extends Component {\n\t\n\trender() {\n\n\t\treturn (\n\t\t\t<div className=\"app\">\n\t\t\t<BrowserRouter basename=\"/\">\n\t\t\t<AuthContextProvider>\n\t\t\t<ShoppingCartProvider>\n\t\t\t<NavContextProvider>\n\n\t\t\t<Switch>\n\t\n\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t<Navbar />\n\t\t\t\t\t<Home />\n\t\t\t\t\t<Footer />\t\n\t\t\t\t</Route>\n\t\t\t\t\n\t\t\t\t<Route exact path=\"/fashion/:gender\" component={GenderLandingPage} />\n\n\t\t\t\t<Route exact path=\"/fashion/:gender/:category\" component={ProductGallery} />\n\t\t\t\t<Route exact path=\"/fashion/:gender/:category/:subcategory\" component={ProductGallery} />\n\n\t\t\t\t<Route exact path=\"/products/:gender/:category/:subcategory/:title\" component={ProductPage} />\n\n\t\t\t\t<Route exact path=\"/tos\">\n\t\t\t\t\t<Navbar />\n\t\t\t\t\t<TOS />\n\t\t\t\t\t<Footer />\n\t\t\t\t</Route>\n\t\t\t\t\n\t\t\t\t<Route exact path=\"/404\">\n\t\t\t\t\t<Navbar />\n\t\t\t\t\t<NotFound />\n\t\t\t\t\t<Footer />\n\t\t\t\t</Route>\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t<Route exact path=\"/account/login\">\n\t\t\t\t\t<Login />\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path=\"/account/register\">\n\t\t\t\t\t<Register />\n\t\t\t\t</Route>\n\t\t\t\t<Route exact path=\"/account/my-account\">\n\t\t\t\t\t<MyAccount />\n\t\t\t\t</Route>\n\n\t\t\t\t<Route exact path=\"/shopping-bag\">\n\t\t\t\t\t<ShoppingCart />\n\t\t\t\t</Route>\n\n\t\t\t\t<Route exact path=\"/checkout\">\n\t\t\t\t\t<Checkout />\n\t\t\t\t</Route>\n\t\t\t\n\t\t\t\t\n\t\t\t\t<Route exact path=\"/cms\">\n\t\t\t\t\t<AdminHome />\n\t\t\t\t</Route>\n\t\t\t\t\n\t\t\t\t<Route exact path=\"/cms/products\">\n\t\t\t\t\t<ProductSizesContextProvider>\n\t\t\t\t\t<ProductCategoryContextProvider>\n\t\t\t\t\t<AdminProducts />\n\t\t\t\t\t</ProductCategoryContextProvider>\n\t\t\t\t\t</ProductSizesContextProvider>\n\t\t\t\t</Route>\n\n\n\t\t\t\t<Route path=\"*\">\n\t\t\t\t\t<Redirect to=\"/404\" />\t\n\t\t\t\t</Route>\n\t\t\t\n\t\t\t</Switch>\n\n\t\t\t</NavContextProvider>\n\t\t\t</ShoppingCartProvider>\n\t\t\t</AuthContextProvider>\n\t\t\t</BrowserRouter>\n\t\t\t</div>\n\t\t);\n\n\t}\n  \n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './css/App.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}